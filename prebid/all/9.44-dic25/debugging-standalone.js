/*! For license information please see debugging-standalone.js.LICENSE.txt */
(()=>{var e={128:e=>{a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t="fun-hooks",n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return i.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function a(e){var d,c={},l=[];function u(e,t){return"function"==typeof e?h.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?h.apply(null,arguments):"object"==typeof e?f.apply(null,arguments):void 0}function f(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],s=r[1]||"sync";if(!i[o]){var a=e[o];i[o]=e[o]=h(s,a,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function p(e){var n=Array.isArray(e)?e:e.split(".");return i.call(n,(function(r,i,o){var s=r[i],a=!1;return s||(o===n.length-1?(d||l.push((function(){a||console.warn(t+": referenced '"+e+"' but it was never created")})),r[i]=g((function(e){r[i]=e,a=!0}))):r[i]={})}),c)}function g(e){var t=[],n=[],i=function(){},o={before:function(e,n){return d.call(this,t,"before",e,n)},after:function(e,t){return d.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{s(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},a={install:function(r,o,s){this.type=r,i=s,s(t,n),e&&e(o)}};return r.set(o.after,a),o;function d(e,r,o,s){var a={hook:o,type:r,priority:s||10,remove:function(){var r=e.indexOf(a);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(a),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function h(n,i,c){var u=i.after&&r.get(i.after);if(u){if(u.type!==n)throw t+": recreated hookable with different type";return i}var f,h,m=c?p(c):g(),b={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return d||l.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?h=new Proxy(i,b):(h=function(){return b.apply?b.apply(i,this,o(arguments)):i.apply(this,arguments)},s(h,m)),r.get(h.after).install(n,h,(function(e,t){var r,i=[];function s(e){i.push(e.hook)}e.length||t.length?(e.forEach(s),r=i.push(void 0)-1,t.forEach(s),f=function(e,t,s){var a,d=0,c="async"===n&&"function"==typeof s[s.length-1]&&s.pop();function l(e){"sync"===n?a=e:c&&c.apply(null,arguments)}function u(e){if(i[d]){var r=o(arguments);return u.bail=l,r.unshift(u),i[d++].apply(t,r)}"sync"===n?a=e:c&&c.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===n&&c&&(delete u.bail,r.push(u));var i=e.apply(t,r);"sync"===n&&u(i)},u.apply(null,s),a}):f=void 0,y()})),h;function y(){!d&&("sync"!==n||e.ready&a.SYNC)&&("async"!==n||e.ready&a.ASYNC)?"sync"!==n&&e.ready&a.QUEUE?b.apply=function(){var e=arguments;l.push((function(){h.apply(e[1],e[2])}))}:b.apply=function(){throw t+": hooked function not ready"}:b.apply=f}}return(e=s({},n,e)).ready?u.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(l)}:d=!0,u.get=p,u}e.exports=a}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t,n){return e&&e.includes(t,n)||!1}function t(e,t,n){return e&&e.find(t,n)}const r=2,i={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},a={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function c(e,n,i){let o="";if(!l(n))return o;const s=n.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let a=0,d=t(n.buckets,(t=>{if(e>s.max*i){let e=t.precision;void 0===e&&(e=r),o=(t.max*i).toFixed(e)}else{if(e<=t.max*i&&e>=a*i)return t.min=a,t;a=t.max}}));return d&&(o=u(e,d,i)),o}function l(e){if(Se(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}function u(e,t,n){const i=void 0!==t.precision?t.precision:r,o=t.increment*n,s=t.min*n;let a=Math.floor,d=j.getConfig("cpmRoundingFunction");"function"==typeof d&&(a=d);let c,l,u=Math.pow(10,i+2),f=(e*u-s*u)/(o*u);try{c=a(f)*o+s}catch(e){l=!0}return(l||"number"!=typeof c)&&(me("Invalid rounding function passed in config"),c=Math.floor(f)*o+s),c=Number(c.toFixed(10)),c.toFixed(i)}function f(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}const p={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},g="pbjs_debug",h=1,m={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",EXPIRED_RENDER:"expiredRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PBS_ANALYTICS:"pbsAnalytics",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError",BEFORE_PBS_HTTP:"beforePBSHttp",BROWSI_INIT:"browsiInit",BROWSI_DATA:"browsiData"},b={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},y={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},v="s2s",w="Bid has missing or invalid properties",E="Invalid request ID",A="Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",C="Bid price exceeds maximum value",T={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},I={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},B={ICON:1,MAIN:3},R=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],S="TRUE"===we(g).toUpperCase(),k={},O="random",D={};D[O]=!0,D.fixed=!0;const x=O,U={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};function _(e){const n=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?{}:{priceGranularity:U.MEDIUM,customPriceBucket:{},mediaTypePriceGranularity:{},bidderSequence:x,auctionOptions:{}};function r(e){return n[e]}function i(t,r){n.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0}),n[t]=r}const o={publisherDomain:{set(e){null!=e&&me("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),i("publisherDomain",e)}},priceGranularity:{set(e){a(e)&&("string"==typeof e?i("priceGranularity",s(e)?e:U.MEDIUM):Be(e)&&(i("customPriceBucket",e),i("priceGranularity",U.CUSTOM),ge("Using custom price granularity")))}},customPriceBucket:{},mediaTypePriceGranularity:{set(e){null!=e&&i("mediaTypePriceGranularity",Object.keys(e).reduce(((t,n)=>(a(e[n])?"string"==typeof e?t[n]=s(e[n])?e[n]:r("priceGranularity"):Be(e)&&(t[n]=e[n],ge(`Using custom price granularity for ${n}`)):me(`Invalid price granularity for media type: ${n}`),t)),{}))}},bidderSequence:{set(e){D[e]?i("bidderSequence",e):me(`Invalid order: ${e}. Bidder Sequence was not set.`)}},auctionOptions:{set(e){(function(e){if(!Be(e))return me("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t&&"suppressExpiredRender"!==t)return me(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!Te(e[t]))return me(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(Ce))return me(`Auction Options ${t} must be only string`),!1}else if(("suppressStaleRender"===t||"suppressExpiredRender"===t)&&!Re(e[t]))return me(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&i("auctionOptions",e)}}};return Object.defineProperties(e,Object.fromEntries(Object.entries(o).map((e=>{let[t,o]=e;return[t,Object.assign({get:r.bind(null,t),set:i.bind(null,t),enumerable:n.hasOwnProperty(t),configurable:!n.hasOwnProperty(t)},o)]})))),e;function s(e){return t(Object.keys(U),(t=>e===U[t]))}function a(e){if(!e)return be("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||me("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Be(e)&&!l(e))return be("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}}const j=function(){let t,n,r,i=[],o=null;function s(){t={};let e=_({debug:S,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3,userSync:{topics:k}});n&&g(Object.keys(n).reduce(((t,r)=>(n[r]!==e[r]&&(t[r]=e[r]||{}),t)),{})),n=e,r={}}function a(){if(o&&r&&Be(r[o])){const e=r[o],t=new Set([...Object.keys(n),...Object.keys(e)]),i={};for(const r of t){const t=n[r],o=e[r];i[r]=void 0===o?t:void 0===t?o:Be(o)?Ke({},t,o):o}return i}return{...n}}const[d,c]=[a,function(){const e=a();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0];return t?f(e(),t):a()}return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;if("string"!=typeof e&&(r=e,e="*",n=t||{}),"function"!=typeof r)return void be("listener must be a function");const o={topic:e,callback:r};return i.push(o),n.init&&r("*"===e?c():{[e]:c(e)}),function(){i.splice(i.indexOf(o),1)}}(...arguments)})),[l,u]=[c,d].map((e=>function(){let t=e(...arguments);return t&&"object"==typeof t&&(t=Pe(t)),t}));function p(e){if(!Be(e))return void be("setConfig options must be an object");let r=Object.keys(e),i={};r.forEach((r=>{let o=e[r];Be(t[r])&&Be(o)&&(o=Object.assign({},t[r],o));try{i[r]=n[r]=o}catch(e){me(`Cannot set config for property ${r} : `,e)}})),g(i)}function g(t){const n=Object.keys(t);i.filter((t=>e(n,t.topic))).forEach((e=>{e.callback({[e.topic]:t[e.topic]})})),i.filter((e=>"*"===e.topic)).forEach((e=>e.callback(t)))}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!function(e){if(!Be(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Be(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((n=>{r[n]||(r[n]=_({},!1)),Object.keys(e.config).forEach((i=>{let o=e.config[i];const s=r[n][i];if(Be(o)&&(null==s||Be(s))){const e=t?Ke:Object.assign;r[n][i]=e({},s||{},o)}else r[n][i]=o}))}))}catch(e){be(e)}}function m(e,t){o=e;try{return t()}finally{b()}}function b(){o=null}return s(),{getCurrentBidder:function(){return o},resetBidder:b,getConfig:c,getAnyConfig:d,readConfig:l,readAnyConfig:u,setConfig:p,mergeConfig:function(e){if(!Be(e))return void be("mergeConfig input must be an object");const t=Ke(a(),e);return p({...t}),t},setDefaults:function(e){Be(t)?(Object.assign(t,e),Object.assign(n,e)):be("defaults must be an object")},resetConfig:s,runWithBidder:m,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return m(e,t.bind(this,...r))}me("config.callbackWithBidder callback is not a function")}}},setBidderConfig:h,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return h(e,!0)}}}();function q(e){var t,n,r;if(Array.isArray(e)){for(n=Array(t=e.length);t--;)n[t]=(r=e[t])&&"object"==typeof r?q(r):r;return n}if("[object Object]"===Object.prototype.toString.call(e)){for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:q(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=(r=e[t])&&"object"==typeof r?q(r):r;return n}return e}const P=0,$=1,N=window,M=N.pbjsPM=N.pbjsPM||{};function L(){return M}M.cmd=M.cmd||[],M.que=M.que||[],N===window&&(N._pbjsGlobals=N._pbjsGlobals||[],N._pbjsGlobals.push("pbjsPM")),L().setTimeout;const W=L().Promise??class{#e;#t;constructor(e){if("function"!=typeof e)throw new Error("resolver not a function");const t=[],n=[];let[r,i]=[P,$].map((e=>function(o){if(e===P&&"function"==typeof o?.then)o.then(r,i);else if(!t.length)for(t.push(e,o);n.length;)n.shift()()}));try{e(r,i)}catch(e){i(e)}this.#e=t,this.#t=n}then(e,t){const n=this.#e;return new this.constructor(((r,i)=>{const o=()=>{let o=n[1],[s,a]=n[0]===P?[e,r]:[t,i];if("function"==typeof s){try{o=s(o)}catch(e){return void i(e)}a=r}a(o)};n.length?o():this.#t.push(o)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((n=>(t=n,e())),(n=>(t=this.constructor.reject(n),e()))).then((()=>t))}static#n(e,t,n){let r=e.length;function i(){t.apply(this,arguments),--r<=0&&n&&n()}0===e.length&&n?n():e.forEach(((e,t)=>this.resolve(e).then((e=>i(!0,e,t)),(e=>i(!1,e,t)))))}static race(e){return new this(((t,n)=>{this.#n(e,((e,r)=>e?t(r):n(r)))}))}static all(e){return new this(((t,n)=>{let r=[];this.#n(e,((e,t,i)=>e?r[i]=t:n(t)),(()=>t(r)))}))}static allSettled(e){return new this((t=>{let n=[];this.#n(e,((e,t,r)=>n[r]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(n)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,n)=>n(e)))}};function G(){let e,t,{promiseFactory:n=(e=>new W(e))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function r(e){return t=>e(t)}return{promise:n(((n,r)=>{e=n,t=r})),resolve:r(e),reject:r(t)}}var F="String",H="Function",V="Number",z="Object",K="Boolean",J=Object.prototype.toString;let Y,Q,X=Boolean(window.console),Z=Boolean(X&&window.console.log),ee=Boolean(X&&window.console.info),te=Boolean(X&&window.console.warn),ne=Boolean(X&&window.console.error);const re=L();function ie(){null!=Y&&Y(...arguments)}const oe={checkCookieSupport:Me,createTrackPixelIframeHtml:function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e=encodeURI(e)),t&&(t=`sandbox="${t}"`),`<iframe ${t} id="${de()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):""},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},canAccessWindowTop:pe,getWindowLocation:fe,insertUserSyncIframe:xe,insertElement:ke,isFn:Ae,triggerPixel:De,logError:be,logWarn:me,logMessage:ge,logInfo:he,parseQS:He,formatQS:function(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>`${t}[]=${e}`)).join("&"):`${t}=${e[t]}`)).join("&")},deepEqual:ze,resetWinDimensions:function(){const e=pe()?oe.getWindowTop():oe.getWindowSelf();Q={screen:{width:e.screen?.width,height:e.screen?.height,availWidth:e.screen?.availWidth,availHeight:e.screen?.availHeight,colorDepth:e.screen?.colorDepth},innerHeight:e.innerHeight,innerWidth:e.innerWidth,outerWidth:e.outerWidth,outerHeight:e.outerHeight,visualViewport:{height:e.visualViewport?.height,width:e.visualViewport?.width},document:{documentElement:{clientWidth:e.document?.documentElement?.clientWidth,clientHeight:e.document?.documentElement?.clientHeight,scrollTop:e.document?.documentElement?.scrollTop,scrollLeft:e.document?.documentElement?.scrollLeft},body:{scrollTop:document.body?.scrollTop,scrollLeft:document.body?.scrollLeft,clientWidth:document.body?.clientWidth,clientHeight:document.body?.clientHeight}}}}};var se,ae=(se=0,function(){return++se});function de(){return ae()+Math.random().toString(16).substr(2)}function ce(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,ce)}function le(e){return e[0]+"x"+e[1]}function ue(e){return Te(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function fe(){return window.location}function pe(){try{if(oe.getWindowTop().location.href)return!0}catch(e){return!1}}function ge(){ve()&&Z&&console.log.apply(console,ye(arguments,"MESSAGE:"))}function he(){ve()&&ee&&console.info.apply(console,ye(arguments,"INFO:"))}function me(){ve()&&te&&console.warn.apply(console,ye(arguments,"WARNING:")),ie(m.AUCTION_DEBUG,{type:"WARNING",arguments})}function be(){ve()&&ne&&console.error.apply(console,ye(arguments,"ERROR:")),ie(m.AUCTION_DEBUG,{type:"ERROR",arguments})}function ye(e,t){e=[].slice.call(e);let n=j.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?`%c${n}`:"")),e;function r(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function ve(){return!!j.getConfig("debug")}function we(e){return He(fe().search)[e]||""}function Ee(e,t){return J.call(e)==="[object "+t+"]"}function Ae(e){return Ee(e,H)}function Ce(e){return Ee(e,F)}const Te=Array.isArray.bind(Array);function Ie(e){return Ee(e,V)}function Be(e){return Ee(e,z)}function Re(e){return Ee(e,K)}function Se(e){return!e||(Te(e)||Ce(e)?!(e.length>0):Object.keys(e).length<=0)}function ke(e,t,n,r){let i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if(i=i.length?i:t.getElementsByTagName("body"),i.length){i=i[0];let t=r?null:i.firstChild;return i.insertBefore(e,t)}}catch(e){}}function Oe(e,t){let n=null;return new W((r=>{const i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function De(e,t,n){const r=new Image;t&&oe.isFn(t)&&Oe(r,n).then(t),r.src=e}function xe(e,t,n){let r=oe.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;let o=i.firstChild;t&&oe.isFn(t)&&Oe(o,n).then(t),oe.insertElement(o,document,"html",!0)}function Ue(e,t,n){return n.indexOf(e)===t}function _e(e,t){return e.concat(t)}function je(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:re.adUnits).map((e=>e.bids.map((e=>e.bidder)).reduce(_e,[]))).reduce(_e,[]).filter((e=>void 0!==e)).filter(Ue)}function qe(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--;let r=e[t];e[t]=e[n],e[n]=r}return e}function Pe(e){return q(e)||{}}function $e(){return(new Date).getTime()}function Ne(){return!1!==j.getConfig("deviceAccess")}function Me(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Le(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let n=0;return function(){n++,n===t&&e.apply(this,arguments)}}function We(e,t,n){return e.filter((e=>e.code===t)).flatMap((e=>e.bids)).filter((e=>e.bidder===n)).map((e=>e.params||{}))}const Ge=Number.isInteger.bind(Number);function Fe(e,t){return Te(e)&&(!t||e.length===t)&&e.every((e=>Ge(e)))}function He(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[n,r]=t.split("=");return/\[\]$/.test(n)?(n=n.replace("[]",""),e[n]=e[n]||[],e[n].push(r)):e[n]=r||"",e}),{}):{}}function Ve(e,t){let n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);let r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:oe.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function ze(e,t){let{checkTypes:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!ze(e[r],t[r],{checkTypes:n}))return!1;return!0}if(r||i)return!1;if(n&&e.constructor!==t.constructor)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(const r of o){if(!Object.prototype.hasOwnProperty.call(t,r))return!1;if(!ze(e[r],t[r],{checkTypes:n}))return!1}return!0}function Ke(e){for(let t=0;t<(arguments.length<=1?0:arguments.length-1);t++){const n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];Be(n)&&Je(e,n)}return e}function Je(e,t){if(!Be(e)||!Be(t))return;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];if("__proto__"===i||"constructor"===i)continue;const o=t[i];Be(o)?(e[i]||(e[i]={}),Je(e[i],o)):Array.isArray(o)?Array.isArray(e[i])?o.forEach((t=>{e[i].some((e=>ze(e,t)))||e[i].push(t)})):e[i]=[...o]:e[i]=o}}function Ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(Ae(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},r=3735928559^t,i=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),r=n(r^t,2654435761),i=n(i^t,1597334677);return r=n(r^r>>>16,2246822507)^n(i^i>>>13,3266489909),i=n(i^i>>>16,2246822507)^n(r^r>>>13,3266489909),(4294967296*(2097151&i)+(r>>>0)).toString()}function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};const n=new Map,r=function(){const r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;for(const n in e){const r=e[n],i=typeof r;if(void 0===r||"function"===i||"symbol"===i||r instanceof RegExp||r instanceof Map||r instanceof Set||r instanceof Date||null!==r&&"object"===i&&r.hasOwnProperty("toJSON"))return!0;if(null!==r&&"object"===i&&r.constructor===Object){if(t.has(r))return!0;if(t.add(r),Xe(r,t))return!0}}return!1}const Ze=function(){let e;return function(){if(void 0!==e)return e;try{void 0===window.CompressionStream?e=!1:(new window.CompressionStream("gzip"),e=!0)}catch(t){e=!1}return e}}(),et="native",tt="video",nt="banner",rt="accessDevice",it="syncUser",ot="fetchBids",st="transmitEids",at="transmitUfpd",dt="transmitPreciseGeo",ct="transmitTid",lt="loadExternalScript",ut={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const n=new AbortController;let r=setTimeout((()=>{n.abort(),be(`Request timeout after ${e}ms`,t),r=null}),e);return{signal:n.signal,done(){r&&clearTimeout(r)}}}},ft="GET",pt="POST",gt="Content-Type";function ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t,n)=>{let r;null==e||null!=n?.signal||j.getConfig("disableAjaxTimeout")||(r=ut.timeout(e,t),n=Object.assign({signal:r.signal},n));let i=ut.fetch(t,n);return null!=r?.done&&(i=i.finally(r.done)),i};return null==t&&null==n||(i=r,r=function(e,r){const o=new URL(null==e?.url?e:e.url,document.location).origin;let s=i(e,r);return t&&t(o),n&&(s=s.finally((()=>n(o)))),s}),r;var i}function mt(e,t){let{status:n,statusText:r="",headers:i,url:o}=e,s=0;function a(e){if(0===s)try{s=(new DOMParser).parseFromString(t,i?.get(gt)?.split(";")?.[0])}catch(t){s=null,e&&e(t)}return s}return{readyState:XMLHttpRequest.DONE,status:n,statusText:r,responseText:t,response:t,responseType:"",responseURL:o,get responseXML(){return a(be)},getResponseHeader:e=>i?.has(e)?i.get(e):null,toJSON(){return Object.assign({responseXML:a()},this)},timedOut:!1}}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=ht(e,{request:t,done:n});return function(e,t,n){!function(e,t){const{success:n,error:r}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>be("Network error",e,t)};e.then((e=>e.text().then((t=>[e,t])))).then((e=>{let[t,i]=e;const o=mt(t,i);t.ok||304===t.status?n(i,o):r(t.statusText,o)}),(e=>r("",Object.assign(mt({status:0},""),{reason:e,timedOut:"AbortError"===e?.name}))))}(r(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n.method||(t?pt:ft);if(r===ft&&t){const r=Ve(e,n);Object.assign(r.search,t),e=((i=r).protocol||"http")+"://"+(i.host||i.hostname+(i.port?`:${i.port}`:""))+(i.pathname||"")+(i.search?`?${oe.formatQS(i.search||"")}`:"")+(i.hash?`#${i.hash}`:"")}var i;const o=new Headers(n.customHeaders);o.set(gt,n.contentType||"text/plain");const s={method:r,headers:o};return r!==ft&&t&&(s.body=t),n.withCredentials&&(s.credentials="include"),isSecureContext&&["browsingTopics","adAuctionHeaders"].forEach((e=>{n[e]&&(s[e]=!0)})),n.keepalive&&(s.keepalive=!0),ut.makeRequest(e,s)}(e,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})),t)}}bt(),ht();const yt=new Map;function vt(e){let{index:t=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=wt(e),r=t.getAuction(e);let i={type:"xml",value:n,ttlseconds:Number(e.ttl)+15};return j.getConfig("cache.vasttrack")&&(i.bidder=e.bidder,i.bidid=e.requestId,i.aid=e.auctionId),null!=r&&(i.timestamp=r.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(i.key=e.customCacheKey),i}function wt(e){return e.vastXml?e.vastXml:`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${e.vastUrl}]]></VASTAdTagURI>\n        ${(t=(t=e.vastImpUrl)&&(Array.isArray(t)?t:[t]))?t.map((e=>`<Impression><![CDATA[${e}]]></Impression>`)).join(""):""}\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`;var t}const Et=(e,t,n)=>{e.videoCacheKey=n||ce(),e.vastUrl||(e.vastUrl=t)},At=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt;const r={puts:e.map(vt)};n(j.getConfig("cache.timeout"))(j.getConfig("cache.url"),function(e){return{success:function(t){let n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(n)}`),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})};function Ct(e){const t=e.map((e=>e.bidResponse));At(t,(function(n,r){n?be(`Failed to save to the video cache: ${n}. Video bids will be discarded:`,t):e.length!==r.length?be(`expected ${e.length} cache IDs, got ${r.length} instead`):r.forEach(((t,n)=>{const{auctionInstance:r,bidResponse:i,afterBidAdded:o}=e[n];var s;""===t.uuid?me("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(Et(i,(s=t.uuid,`${j.getConfig("cache.url")}?uuid=${s}`),t.uuid),Xn(r,i),o())}))}))}let Tt,It,Bt;j.getConfig("cache",(e=>{let{cache:t}=e;Tt="number"==typeof t.batchSize&&t.batchSize>0?t.batchSize:1,It="number"==typeof t.batchTimeout&&t.batchTimeout>0?t.batchTimeout:0,t.useLocal&&!Bt&&(Bt=ur.onExpiry((e=>{e.getBidsReceived().forEach((e=>{const t=yt.get(e.videoCacheKey);t&&t.startsWith("blob")&&URL.revokeObjectURL(t),yt.delete(e.videoCacheKey)}))})))}));const Rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct,n=[[]],r=!1;const i=e=>e();return function(o,s,a){const d=It>0?e:i;n[n.length-1].length>=Tt&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:s,afterBidAdded:a}),r||(r=!0,d((()=>{n.forEach(t),n=[[]],r=!1}),It))}}(),St=new class{constructor(e,t){this.getSettings=e,this.defaultScope=t}get(e,t){let n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}getOwn(e,t){return e=this.#r(e),f(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return Ke({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=this.#r(e),this.getSettings()[e]||{}}#r(e){return null==e?this.defaultScope:e}}((()=>L().bidderSettings||{}),p.BD_SETTING_STANDARD),kt="prebid",Ot="bidder",Dt="analytics";var xt=n(128),Ut=n.n(xt);let _t=Ut()({ready:Ut().SYNC|Ut().ASYNC|Ut().QUEUE});const jt=G();_t.ready=(()=>{const e=_t.ready;return function(){try{return e.apply(_t,arguments)}finally{jt.resolve()}}})(),jt.promise,_t.get;const qt="component",Pt=qt+"Type",$t=qt+"Name",Nt="adapterCode",Mt="storageType",Lt="configName",Wt="syncType",Gt="syncUrl",Ft="_config";function Ht(e){return function(t,n,r){const i={[Pt]:t,[$t]:n,[qt]:`${t}.${n}`};return t===Ot&&(i[Nt]=e(n)),Vt(Object.assign(i,r))}}const Vt=_t("sync",(e=>e)),[zt,Kt]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e("Activity control:",...n)}}return{logError:t(be),logWarn:t(me),logMessage:t(ge),logInfo:t(he)}}();const t={};function n(e){return t[e]=t[e]||[]}function r(t,n,r,i){let o;try{o=r(i)}catch(r){e.logError(`Exception in rule ${n} for '${t}'`,r),o={allow:!1,reason:r}}return o&&Object.assign({activity:t,name:n,component:i[qt]},o)}const i={};function o(t){let{activity:n,name:r,allow:o,reason:s,component:a}=t;const d=`${r} ${o?"allowed":"denied"} '${n}' for '${a}'${s?":":""}`,c=i.hasOwnProperty(d);if(c&&clearTimeout(i[d]),i[d]=setTimeout((()=>delete i[d]),1e3),!c){const t=[d];s&&t.push(s),(o?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const o=n(e),s=o.findIndex((e=>{let[t]=e;return i<t})),a=[i,t,r];return o.splice(s<0?o.length:s,0,a),function(){const e=o.indexOf(a);e>=0&&o.splice(e,1)}},function(e,t){let i,s;for(const[a,d,c]of n(e)){if(i!==a&&s)break;i=a;const n=r(e,d,c,t);if(n){if(!n.allow)return o(n),!1;s=n}}return s&&o(s),!0}]}(),Jt="html5",Yt="cookie";let Qt=[];zt(rt,"deviceAccess config",(function(){if(!Ne())return{allow:!1}})),zt(rt,"bidderSettings.*.storageAllowed",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;if(e[Pt]!==Ot)return;let n=t.get(e[Nt],"storageAllowed");if(n&&!0!==n){const t=e[Mt];n=Array.isArray(n)?n.some((e=>e===t)):n===t}else n=!!n;return n?void 0:{allow:n}})),j.setDefaults({userSync:Pe({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:500})});const Xt=function(){let{moduleName:e,moduleType:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isAllowed:n=Kt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function r(r,i){let o=e;const s=j.getCurrentBidder();return s&&t===Ot&&Ri.aliasRegistry[s]===e&&(o=s),r({valid:n(rt,Si(t,o,{[Mt]:i}))})}function i(e,t,n){if(!n||"function"!=typeof n)return r(e,t);Qt.push((function(){let i=r(e,t);n(i)}))}function o(e){const t=e.charAt(0).toUpperCase()+e.substring(1),n=()=>window[e],r=function(t){return i((function(t){if(t&&t.valid)try{return!!n()}catch(t){be(`${e} api disabled`)}return!1}),Jt,t)};return{[`has${t}`]:r,[`${e}IsEnabled`]:e=>i((function(e){if(e&&e.valid)try{return n().setItem("prebid.cookieTest","1"),"1"===n().getItem("prebid.cookieTest")}catch(e){}finally{try{n().removeItem("prebid.cookieTest")}catch(e){}}return!1}),Jt,e),[`setDataIn${t}`]:(e,t,o)=>i((function(i){i&&i.valid&&r()&&n().setItem(e,t)}),Jt,o),[`getDataFrom${t}`]:(e,t)=>i((function(t){return t&&t.valid&&r()?n().getItem(e):null}),Jt,t),[`removeDataFrom${t}`]:(e,t)=>i((function(t){t&&t.valid&&r()&&n().removeItem(e)}),Jt,t)}}return{setCookie:function(e,t,n,r,o,s){return i((function(i){if(i&&i.valid){const i=o&&""!==o?` ;domain=${encodeURIComponent(o)}`:"",s=n&&""!==n?` ;expires=${n}`:"",a=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${s}; path=/${i}${r?`; SameSite=${r}`:""}${a}`}}),Yt,s)},getCookie:function(e,t){return i((function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),Yt,t)},cookiesAreEnabled:function(e){return i((function(e){return!(!e||!e.valid)&&Me()}),Yt,e)},...o("localStorage"),...o("sessionStorage"),findSimilarCookies:function(e,t){return i((function(t){if(t&&t.valid){const t=[];if(Ne()){const n=document.cookie.split(";");for(;n.length;){const r=n.pop();let i=r.indexOf("=");i=i<0?r.length:i,decodeURIComponent(r.slice(0,i).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(r.slice(i+1)))}}return t}}),Yt,t)}}}({moduleName:"usersync",moduleType:kt}),Zt=function(t){let n={},r={image:[],iframe:[]},i=new Set,o={},s={image:!0,iframe:!1},a=t.config;function d(){if(a.syncEnabled&&t.browserSupportsCookies){try{s.iframe&&c(r.iframe,(e=>{let[t,n]=e;ge(`Invoking iframe user sync for bidder: ${t}`),xe(n),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(r,t)})),s.image&&c(r.image,(e=>{let[t,n]=e;ge(`Invoking image pixel user sync for bidder: ${t}`),De(n)}))}catch(e){return be("Error firing user syncs",e)}r={image:[],iframe:[]}}}function c(e,t){qe(e).forEach(t)}return j.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;Be(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}a=Object.assign(a,e.userSync)})),t.regRule(it,"userSync config",(e=>{if(!a.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[Pt]===Ot){const t=e[Wt],r=e[$t];if(!n.canBidderRegisterSync(t,r))return{allow:!1,reason:`${t} syncs are not enabled for ${r}`}}})),n.registerSync=(e,n,s)=>i.has(n)?ge(`already fired syncs for "${n}", ignoring registerSync call`):a.syncEnabled&&Te(r[e])?n?0!==a.syncsPerBidder&&Number(o[n])>=a.syncsPerBidder?me(`Number of user syncs exceeded for "${n}"`):void(t.isAllowed(it,Si(Ot,n,{[Wt]:e,[Gt]:s}))&&(r[e].push([n,s]),o=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(o,n))):me("Bidder is required for registering sync"):me(`User sync type "${e}" not supported`),n.bidderDone=i.add.bind(i),n.syncUsers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(d,Number(e));d()},n.triggerUserSyncs=()=>{a.enableOverride&&n.syncUsers()},n.canBidderRegisterSync=(t,n)=>!a.filterSettings||!function(t,n){let r=a.filterSettings;if(function(e,t){if(e.all&&e[t])return me(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;let i=n.filter,o=n.bidders;return i&&"include"!==i&&"exclude"!==i?(me(`UserSync "filterSettings.${r}.filter" setting '${i}' is not a valid option; use either 'include' or 'exclude'.`),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((e=>Ce(e)&&"*"!==e)))||(me(`Detected an invalid setup in userSync "filterSettings.${r}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1)}(r,t)){s[t]=!0;let i=r.all?r.all:r[t],o="*"===i.bidders?[n]:i.bidders;const a={include:(t,n)=>!e(t,n),exclude:(t,n)=>e(t,n)};return a[i.filter||"include"](o,n)}return!s[t]}(t,n),n}(Object.defineProperties({config:j.getConfig("userSync"),isAllowed:Kt,regRule:zt},{browserSupportsCookies:{get:function(){return!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&Xt.cookiesAreEnabled()}}})),en="outstream";new Map([["mimes",e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e))],["minduration",Ge],["maxduration",Ge],["startdelay",Ge],["maxseq",Ge],["poddur",Ge],["protocols",Fe],["w",Ge],["h",Ge],["podid",Ce],["podseq",Ge],["rqddurs",Fe],["placement",Ge],["plcmt",Ge],["linearity",Ge],["skip",e=>[1,0].includes(e)],["skipmin",Ge],["skipafter",Ge],["sequence",Ge],["slotinpod",Ge],["mincpmpersec",Ie],["battr",Fe],["maxextended",Ge],["minbitrate",Ge],["maxbitrate",Ge],["boxingallowed",Ge],["playbackmethod",Fe],["playbackend",Ge],["delivery",Fe],["pos",Ge],["api",Fe],["companiontype",Fe],["poddedupe",Fe]]);const tn=_t("sync",(function(e,t,n,r,i){if(n&&(i||r!==en)){const{url:t,useLocal:n}=j.getConfig("cache")||{};return t||n||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(be('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling either prebid cache with pbjsPM.setConfig({ cache: {url: "..."} });\n        or local cache with pbjsPM.setConfig({ cache: { useLocal: true }});\n      '),!1)}return!(r===en&&!i&&!(e.renderer||t&&t.renderer||n.renderer))}),"checkVideoBidSetup");let nn=null,rn=0,on=[];function sn(e,t){const n=rn;let r=setTimeout((()=>{rn===n&&null==nn?e():null!=nn?on.push({callback:e,startTime:n,setTimerId(e){r=e}}):r=sn(e,rn-n)()}),t);return()=>r}function an(){let{startTime:e=$e,ttl:t=(()=>null),monotonic:n=!1,slack:r=5e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=new Map,o=[],s=[],a=n?e=>s.push(e):e=>s.splice(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e,r=0,i=e.length&&e.length-1;const o=n(t);for(;i-r>1;){const t=r+Math.round((i-r)/2);o>n(e[t])?r=t:i=t}for(;e.length>r&&o>n(e[r]);)r++;return r}(s,e,(e=>e.expiry)),0,e);let d,c;function l(){if(c&&clearTimeout(c),s.length>0){const e=$e();d=Math.max(e,s[0].expiry+r),c=sn((()=>{const e=$e();let t=0;for(const n of s){if(n.expiry>e)break;o.forEach((e=>{try{e(n.item)}catch(e){be(e)}})),i.delete(n.item),t++}s.splice(0,t),c=null,l()}),d-e)}else c=null}let u={};return{[Symbol.iterator]:()=>i.keys(),add(n){!i.has(n)&&i.set(n,function(n){const i={},o=u;let s;const[f,p]=Object.entries({start:e,delta:t}).map((e=>{let t,[f,p]=e;return function(){const e=t={};W.resolve(p(n)).then((n=>{e===t&&(i[f]=n,o===u&&null!=i.start&&null!=i.delta&&(s=i.start+i.delta,a(g),(null==c||d>s+r)&&l()))}))}})),g={item:n,refresh:p,get expiry(){return s}};return f(),p(),g}(n))},clear(){s.length=0,l(),i.clear(),u={}},toArray:()=>Array.from(i.keys()),refresh(){s.length=0,l();for(const e of i.values())e.refresh()},onExpiry:e=>(o.push(e),()=>{const t=o.indexOf(e);t>=0&&o.splice(t,1)})}}document.addEventListener("visibilitychange",(function(){document.hidden?nn=Date.now():(rn+=Date.now()-(nn??0),nn=null,on.forEach((e=>{let{callback:t,startTime:n,setTimerId:r}=e;return r(sn(t,rn-n)())})),on=[])}));const dn="eventHistoryTTL";let cn=null;const ln=an({monotonic:!0,ttl:()=>cn});j.getConfig(dn,(e=>{const t=cn;e=e?.[dn],cn="number"==typeof e?1e3*e:null,t!==cn&&ln.refresh()}));let un=Array.prototype.slice,fn=Array.prototype.push,pn=Object.values(m);const gn={bidWon:"adUnitCode"},hn=function(){let e={},t={};function n(e){return pn.includes(e)}return t.has=n,t.on=function(t,r,i){if(n(t)){let n=e[t]||{que:[]};i?(n[i]=n[i]||{que:[]},n[i].que.push(r)):n.que.push(r),e[t]=n}else be("Wrong event name : "+t+" Valid event names :"+pn)},t.emit=function(t){!function(t,n){ge("Emitting event for: "+t);let r=n[0]||{},i=r[gn[t]],o=e[t]||{que:[]};var s=Object.keys(o);let a=[];ln.add({eventType:t,args:r,id:i,elapsedTime:window.performance&&window.performance.now&&window.performance.now()||0}),i&&s.includes(i)&&fn.apply(a,o[i].que),fn.apply(a,o.que),(a||[]).forEach((function(e){if(e)try{e.apply(null,n)}catch(e){be("Error executing handler:","events.js",e,t)}}))}(t,un.call(arguments,1))},t.off=function(t,n,r){let i=e[t];Se(i)||Se(i.que)&&Se(i[r])||r&&(Se(i[r])||Se(i[r].que))||(r?(i[r].que||[]).forEach((function(e){let t=i[r].que;e===n&&t.splice(t.indexOf(e),1)})):(i.que||[]).forEach((function(e){let t=i.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){pn=pn.concat(e)},t.getEvents=function(){return ln.toArray().map((e=>Object.assign({},e)))},t}();var mn;mn=hn.emit.bind(hn),Y=mn;const{on:bn,off:yn,get:vn,getEvents:wn,emit:En,addEvents:An,has:Cn}=hn,Tn="performanceMetrics",In=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),Bn=new WeakMap;function Rn(){let{now:e=In,mkNode:t=On,mkTimer:n=kn,mkRenamer:r=(e=>e),nodes:i=Bn}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return function o(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>({forEach(t){t(e)}});a=r(a);const d=function(e){return s.dfWalk({visit(t,n){const r=n.timestamps;if(r.hasOwnProperty(e))return r[e]}})};function c(e,t){const n=a(e);s.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,r){n.forEach((n=>{null==e?r.metrics[n]=t:(r.groups.hasOwnProperty(n)||(r.groups[n]=[]),r.groups[n].push(t))}))}})}function l(t){return n(e,(e=>c(t,e)))}function u(){let e={};return s.dfWalk({visit(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}const f={startTiming:l,measureTime:function(e,t){return l(e).stopAfter(t)()},measureHookTime:function(e,t,n){const r=l(e);return n(function(e){const t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))},checkpoint:function(t){s.timestamps[t]=e()},timeSince:function(t,n){const r=d(t),i=null!=r?e()-r:null;return null!=n&&c(n,i),i},timeBetween:function(e,t,n){const r=d(e),i=d(t),o=null!=r&&null!=i?i-r:null;return null!=n&&c(n,o),o},setMetric:c,getMetrics:u,fork:function(){let{propagate:e=!0,stopPropagation:n=!1,includeGroups:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t([[s,{propagate:e,stopPropagation:n,includeGroups:r}]]),a)},join:function(e){let{propagate:t=!0,stopPropagation:n=!1,includeGroups:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=i.get(e);null!=o&&o.addParent(s,{propagate:t,stopPropagation:n,includeGroups:r})},newMetrics:function(){return o(s.newSibling(),a)},renameWith:function(e){return o(s,e)},toJSON:()=>u()};return i.set(f,s),f}(t([]))}}function Sn(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function kn(e,t){const n=e();let r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=e=>Sn(e,i),i.stopAfter=e=>Sn(e,null,i),i}function On(e){return{metrics:{},timestamps:{},groups:{},addParent(t,n){e.push([t,n])},newSibling:()=>On(e.slice()),dfWalk(){let t,{visit:n,follow:r=(()=>!0),visited:i=new Set,inEdge:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.has(this)){if(i.add(this),t=n(o,this),null!=t)return t;for(const[s,a]of e)if(r(o,a)&&(t=s.dfWalk({visit:n,follow:r,visited:i,inEdge:a}),null!=t))return t}}}}const Dn=(()=>{const e=function(){},t=()=>({}),n={forEach:e},r=()=>null;r.stopBefore=e=>e,r.stopAfter=e=>e;const i=Object.defineProperties({dfWalk:e,newSibling:()=>i,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return Rn({now:()=>0,mkNode:()=>i,mkRenamer:()=>()=>n,mkTimer:()=>r,nodes:{get:e,set:e}})()})();let xn=!0;function Un(e){return xn&&e||Dn}function _n(e,t){return function(n,r){return function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];const d=this;return Un(t.apply(d,s)).measureHookTime(e+n,i,(function(e){return r.call(d,e,...s)}))}}}j.getConfig(Tn,(e=>{xn=!!e[Tn]})),Rn(),_n("requestBids.",(e=>e.metrics)),_n("addBidResponse.",((e,t)=>t.metrics));const jn="minBidCacheTTL";let qn=1,Pn=null;const $n=[];function Nn(){return Pn}function Mn(e){$n.push(e)}j.getConfig("ttlBuffer",(e=>{"number"==typeof e.ttlBuffer?qn=e.ttlBuffer:be("Invalid value for ttlBuffer",e.ttlBuffer)})),j.getConfig(jn,(e=>{const t=Pn;Pn=e?.[jn],Pn="number"==typeof Pn?Pn:null,t!==Pn&&$n.forEach((e=>e(Pn)))}));const{syncUsers:Ln}=Zt,Wn="completed";bn(m.BID_ADJUSTMENT,(function(e){!function(e){let t=function(e,t,n){let{index:r=ur.index,bs:i=St}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n=n||r.getBidRequest(t);const o=t?.adapterCode,s=t?.bidderCode||n?.bidder,a=i.get(t?.adapterCode,"adjustAlternateBids"),d=i.getOwn(s,"bidCpmAdjustment")||i.get(a?o:s,"bidCpmAdjustment");if(d&&"function"==typeof d)try{return d(e,Object.assign({},t),n)}catch(e){be("Error during bid adjustment",e)}return e}(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const Gn={},Fn={},Hn=[],Vn=L();function zn(t){let{adUnits:n,adUnitCodes:r,callback:l,cbTimeout:u,labels:f,auctionId:p,ortb2Fragments:g,metrics:h}=t;h=Un(h);const b=n,y=f,w=r,E=p||ce(),A=u,C=new Set,T=G(),I=G();let R,S,k,O,D=[],x=l,U=[],_=an({startTime:e=>e.responseTimestamp,ttl:e=>null==Nn()?null:1e3*Math.max(Nn(),e.ttl)}),q=[],P=[],$=[];function N(){return{auctionId:E,timestamp:R,auctionEnd:S,auctionStatus:O,adUnits:b,adUnitCodes:w,labels:y,bidderRequests:U,noBids:q,bidsReceived:_.toArray(),bidsRejected:D,winningBids:P,timeout:A,metrics:h,seatNonBids:$}}function M(e){if(e?En(m.AUCTION_TIMEOUT,N()):clearTimeout(k),void 0===S){let t=[];e&&(ge(`Auction ${E} timedOut`),t=U.filter((e=>!C.has(e.bidderRequestId))).flatMap((e=>e.bids)),t.length&&En(m.BID_TIMEOUT,t)),O=Wn,S=Date.now(),h.checkpoint("auctionEnd"),h.timeBetween("requestBids","auctionEnd","requestBids.total"),h.timeBetween("callBids","auctionEnd","requestBids.callBids"),T.resolve(),En(m.AUCTION_END,N()),Qn(b,(function(){try{if(null!=x){const t=_.toArray().filter((e=>w.includes(e.adUnitCode))).reduce(cr,{});x.apply(Vn,[t,e,E]),x=null}}catch(e){be("Error executing bidsBackHandler",null,e)}finally{t.length&&Ri.callTimedOutBidders(n,t,A);let e=j.getConfig("userSync")||{};e.enableOverride||Ln(e.syncDelay)}}))}}function L(){j.resetBidder(),he(`Bids Received for Auction with id: ${E}`,_.toArray()),O=Wn,M(!1)}function F(e){C.add(e)}function H(t){t.forEach((e=>{var t;t=e,U=U.concat(t)}));let n={},r={bidRequests:t,run:()=>{k=setTimeout((()=>M(!0)),A),O="inProgress",En(m.AUCTION_INIT,N());let r=function(t,n){let{index:r=ur.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=0,u=!1,f=new Set,p={};function g(){l--,u&&0===l&&t()}function h(e,t,n){return p[t.requestId]=!0,function(e,t){let{index:n=ur.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n.getBidderRequest(e),i=n.getAdUnit(e),o=r&&r.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||$e(),requestTimestamp:e.requestTimestamp||o,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=i?.ttlBuffer&&(e.ttlBuffer=i.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),l++,n(g)}function b(e,t){h(e,t,(e=>{let l=function(e){let{index:t=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};En(m.BID_ADJUSTMENT,e);const n=t.getAdUnit(e);e.instl=1===n?.ortb2Imp?.instl;const r=t.getBidRequest(e)?.renderer||n.renderer,l=e.mediaType,u=t.getMediaTypes(e),f=u&&u[l];var p=f&&f.renderer,g=null;!p||!p.render||!0===p.backupOnly&&e.renderer?!r||!r.render||!0===r.backupOnly&&e.renderer||(g=r):g=p,g&&(e.renderer=Ui.install({url:g.url,config:g.options,renderNow:null==g.url}),e.renderer.setRender(g.render));const h=er(e.mediaType,u,j.getConfig("mediaTypePriceGranularity")),b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":c(e,i,n),med:""===r?"":c(e,o,n),high:""===r?"":c(e,s,n),auto:""===r?"":c(e,d,n),dense:""===r?"":c(e,a,n),custom:""===r?"":c(e,t,n)}}(e.cpm,"object"==typeof h?h:j.getConfig("customPriceBucket"),j.getConfig("currency.granularityMultiplier"));return e.pbLg=b.low,e.pbMg=b.med,e.pbHg=b.high,e.pbAg=b.auto,e.pbDg=b.dense,e.pbCg=b.custom,e}(t);En(m.BID_ACCEPTED,l),l.mediaType===tt?function(e,t,n){let{index:r=ur.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!0;const o=r.getMediaTypes({requestId:t.originalRequestId||t.requestId,adUnitId:t.adUnitId})?.video,s=o&&o?.context,a=o&&o?.useCacheKey,{useLocal:d,url:c,ignoreBidderCacheKey:l}=j.getConfig("cache")||{};d?(e=>{const t=wt(e),n=URL.createObjectURL(new Blob([t],{type:"text/xml"}));Et(e,n),yt.set(e.videoCacheKey,n)})(t):c&&(a||s!==en)&&(!t.videoCacheKey||l?(i=!1,Zn(e,t,n,o)):t.vastUrl||(be("videoCacheKey specified but not required vastUrl for video bid"),i=!1)),i&&(Xn(e,t),n())}(n,l,e):(function(e){return e.native&&"object"==typeof e.native}(l)&&function(e,t){const n=t?.nativeOrtbRequest,r=e.native?.ortb;if(n&&r){const t=function(e,t){const n={},r=t?.assets||[];n.clickUrl=e.link?.url,n.privacyLink=e.privacy;for(const t of e?.assets||[]){const e=r.find((e=>t.id===e.id));t.title?n.title=t.title.text:t.img?n[e?.img?.type===B.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(n[br[yr[e?.data?.type]]]=t.data.value)}n.impressionTrackers=[];let i=[];e.imptrackers&&n.impressionTrackers.push(...e.imptrackers);for(const t of e?.eventtrackers||[])t.event===gr&&t.method===fr&&n.impressionTrackers.push(t.url),t.event===gr&&t.method===pr&&i.push(t.url);return i=i.map((e=>`<script async src="${e}"><\/script>`)),e?.jstracker&&i.push(e.jstracker),i.length&&(n.javascriptTrackers=i.join("\n")),n}(r,n);Object.assign(e.native,t)}["rendererUrl","adTemplate"].forEach((n=>{const r=t?.nativeParams?.[n];r&&(e.native[n]=Er(r))}))}(l,r.getAdUnit(l)),Xn(n,l),e())}))}function y(e,t,r){return h(e,t,(e=>{t.rejectionReason=r,me(`Bid from ${t.bidder||"unknown bidder"} was rejected: ${r}`,t),En(m.BID_REJECTED,t),n.addBidRejected(t),e()}))}function v(){let r=n.getBidRequests();const i=j.getConfig("auctionOptions");if(f.add(this),i&&!Se(i)){const t=i.secondaryBidders;t&&!r.every((n=>e(t,n.bidderCode)))&&(r=r.filter((n=>!e(t,n.bidderCode))))}u=r.every((e=>f.has(e))),this.bids.forEach((e=>{p[e.bidId]||(n.addNoBid(e),En(m.NO_BID,e))})),u&&0===l&&t()}return{addBidResponse:function(){function e(e,t){Kn.call({dispatch:b},e,t,(()=>{let n=!1;return r=>{n||(y(e,t,r),n=!0)}})())}return e.reject=y,e}(),adapterDone:function(){Jn(W.resolve()).finally((()=>v.call(this)))}}}(L,this);Ri.callBids(b,t,r.addBidResponse,r.adapterDone,{request(e,t){u(Gn,t),u(n,e),Fn[e]||(Fn[e]={SRA:!0,origin:t}),n[e]>1&&(Fn[e].SRA=!1)},done(e){Gn[e]--,Hn[0]&&l(Hn[0])&&Hn.shift()}},A,F,g),I.resolve()}};function l(e){let t=!0,n=j.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((e=>{let r=1,i=void 0!==e.src&&e.src===v?"s2s":e.bidderCode;return Fn[i]&&(!1===Fn[i].SRA&&(r=Math.min(e.bids.length,n)),Gn[Fn[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function u(e,t){void 0===e[t]?e[t]=1:e[t]++}l(r)||(me("queueing auction due to limited endpoint capacity"),Hn.push(r))}return Mn((()=>_.refresh())),bn(m.SEAT_NON_BID,(e=>{var t;e.auctionId===E&&(t=e.seatnonbid,$=$.concat(t))})),{addBidReceived:function(e){_.add(e)},addBidRejected:function(e){D=D.concat(e)},addNoBid:function(e){q=q.concat(e)},callBids:function(){O="started",R=Date.now();let e=h.measureTime("requestBids.makeRequests",(()=>Ri.makeBidRequests(b,R,E,A,y,g,h)));he(`Bids Requested for Auction with id: ${E}`,e),h.checkpoint("callBids"),e.length<1?(me("No valid bid requests returned for auction"),L()):Yn.call({dispatch:H,context:this},e)},addWinningBid:function(e){P=P.concat(e),Ri.callBidWonBidder(e.adapterCode||e.bidder,e,n),e.deferBilling||Ri.triggerBilling(e)},setBidTargeting:function(e){Ri.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>P,getAuctionStart:()=>R,getAuctionEnd:()=>S,getTimeout:()=>A,getAuctionId:()=>E,getAuctionStatus:()=>O,getAdUnits:()=>b,getAdUnitCodes:()=>w,getBidRequests:()=>U,getBidsReceived:()=>_.toArray(),getNoBids:()=>q,getNonBids:()=>$,getFPD:()=>g,getMetrics:()=>h,end:T.promise,requestsDone:I.promise,getProperties:N}}const Kn=function(e){return function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.push((function(){})),e.apply(this,n)}))}(_t("async",(function(e,t,n){!function(e){const t=j.getConfig("maxBid");return!t||!e.cpm||t>=Number(e.cpm)}(t)?n(C):this.dispatch.call(null,e,t)}),"addBidResponse")),Jn=_t("sync",(e=>e),"responsesReady"),Yn=_t("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),Qn=_t("async",(function(e,t){t&&t()}),"bidsBackCallback");function Xn(e,t){!function(e){let t;const n=!0===St.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){let{index:n=ur.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};const r=n.getBidRequest(t);var i={};return dr(i,ar(t.mediaType,e),t,r),e&&St.getOwn(e,p.ADSERVER_TARGETING)&&(dr(i,St.ownSettingsFor(e),t,r),t.sendStandardTargeting=St.get(e,"sendStandardTargeting")),t.native&&(i=Object.assign({},i,function(e){let{index:t=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};const r=t.getAdUnit(e),i=null==r?.nativeParams?.ortb&&!1!==r?.nativeParams?.sendTargetingKeys,o=function(e){const t={};return e?.nativeParams?.ext&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]=`hb_native_${e}`})),{...y,...t}}(r),s={...e.native,...e.native.ext};return delete s.ext,Object.keys(s).forEach((t=>{const s=o[t];let a=Er(e.native[t])||Er(e?.native?.ext?.[t]);if("adTemplate"===t||!s||!a)return;let d=r?.nativeParams?.[t]?.sendId;"boolean"!=typeof d&&(d=r?.nativeParams?.ext?.[t]?.sendId),d&&(a=`${s}:${e.adId}`);let c=r?.nativeParams?.[t]?.sendTargetingKeys;"boolean"!=typeof c&&(c=r?.nativeParams?.ext?.[t]?.sendTargetingKeys),("boolean"==typeof c?c:i)&&(n[s]=a)})),n}(t))),i}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),Un(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),En(m.BID_RESPONSE,t)}const Zn=_t("async",(function(e,t,n,r){Rt(e,t,n)}),"callPrebidCache");function er(e,t,n){if(e&&n){if(e===tt){const e=t?.[tt]?.context??"instream";if(n[`${tt}-${e}`])return n[`${tt}-${e}`]}return n[e]}}const tr=e=>t=>{const n=e||function(e){let{index:t=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=er(e.mediaType,t.getMediaTypes(e),j.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&n?"string"==typeof n?n:"custom":j.getConfig("priceGranularity")}(t);return"auto"===n?t.pbAg:"dense"===n?t.pbDg:"low"===n?t.pbLg:"medium"===n?t.pbMg:"high"===n?t.pbHg:"custom"===n?t.pbCg:void 0},nr=()=>e=>e.creativeId?e.creativeId:"",rr=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",ir=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?e?.meta?.networkName||e?.meta?.networkId:"",or=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function sr(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return e[t]}}}function ar(e,n){const r=Object.assign({},St.settingsFor(null));if(r[p.ADSERVER_TARGETING]||(r[p.ADSERVER_TARGETING]=[sr(b.BIDDER,"bidderCode"),sr(b.AD_ID,"adId"),sr(b.PRICE_BUCKET,tr()),sr(b.SIZE,"size"),sr(b.DEAL,"dealId"),sr(b.SOURCE,"source"),sr(b.FORMAT,"mediaType"),sr(b.ADOMAIN,rr()),sr(b.ACAT,or()),sr(b.DSP,ir()),sr(b.CRID,nr())]),"video"===e){const e=r[p.ADSERVER_TARGETING].slice();if(r[p.ADSERVER_TARGETING]=e,[b.UUID,b.CACHE_ID].forEach((n=>{void 0===t(e,(e=>e.key===n))&&e.push(sr(n,"videoCacheKey"))})),j.getConfig("cache.url")&&(!n||!1!==St.get(n,"sendStandardTargeting"))){const n=Ve(j.getConfig("cache.url"));void 0===t(e,(e=>e.key===b.CACHE_HOST))&&e.push(sr(b.CACHE_HOST,(function(e){return e?.adserverTargeting?.[b.CACHE_HOST]||n.hostname})))}}return r}function dr(e,t,n,r){var i=t[p.ADSERVER_TARGETING];return n.size=n.getSize(),(i||[]).forEach((function(i){var o,s=i.key,a=i.val;if(e[s]&&me("The key: "+s+" is being overwritten"),Ae(a))try{a=a(n,r)}catch(e){be("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&s!==b.DEAL&&s!==b.ACAT&&s!==b.DSP&&s!==b.CRID||(!Ce(o=a)||o&&0!==o.length)&&null!=a?e[s]=a:he("suppressing empty key '"+s+"' from adserver targeting")})),e}function cr(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function lr(e){Object.assign(this,{getAuction(t){let{auctionId:n}=t;if(null!=n)return e().find((e=>e.getAuctionId()===n))},getAdUnit(t){let{adUnitId:n}=t;if(null!=n)return e().flatMap((e=>e.getAdUnits())).find((e=>e.adUnitId===n))},getMediaTypes(e){let{adUnitId:t,requestId:n}=e;if(null!=n){const e=this.getBidRequest({requestId:n});if(null!=e&&(null==t||e.adUnitId===t))return e.mediaTypes}else if(null!=t){const e=this.getAdUnit({adUnitId:t});if(null!=e)return e.mediaTypes}},getBidderRequest(t){let{requestId:n,bidderRequestId:r}=t;if(null!=n||null!=r){let t=e().flatMap((e=>e.getBidRequests()));return null!=r&&(t=t.filter((e=>e.bidderRequestId===r))),null==n?t[0]:t.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===n))))}},getBidRequest(t){let{requestId:n}=t;if(null!=n)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===n))},getOrtb2(e){return this.getBidderRequest(e)?.ortb2||this.getAuction(e)?.getFPD()?.global?.ortb2}})}const ur=function(){const e=an({startTime:e=>e.end.then((()=>e.getAuctionEnd())),ttl:e=>null==Nn()?null:e.end.then((()=>1e3*Math.max(Nn(),...e.getBidsReceived().map((e=>e.ttl)))))});Mn((()=>e.refresh()));const t={onExpiry:e.onExpiry};function n(t){for(const n of e)if(n.getAuctionId()===t)return n}function r(){return e.toArray().flatMap((e=>e.getBidsReceived()))}return t.addWinningBid=function(e){const t=Un(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","adserver.pending"),t.timeBetween("requestBids","bidWon","adserver.e2e");const r=n(e.auctionId);r?r.addWinningBid(e):me("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===Wn},getAdUnitCodes:{post:Ue}}).forEach((n=>{let[r,{name:i=r,pre:o,post:s}]=n;const a=null==o?e=>e[i]():e=>o(e)?e[i]():[],d=null==s?e=>e:e=>e.filter(s);t[r]=()=>d(e.toArray().flatMap(a))})),t.getAllBidsForAdUnitCode=function(e){return r().filter((t=>t&&t.adUnitCode===e))},t.createAuction=function(t){const n=zn(t);return function(t){e.add(t)}(n),n},t.findBidByAdId=function(e){return r().find((t=>t.adId===e))},t.getStandardBidderAdServerTargeting=function(){return ar()[p.ADSERVER_TARGETING]},t.setStatusForBids=function(e,r){let i=t.findBidByAdId(e);if(i&&(i.status=r),i&&"targetingSet"===r){const e=n(i.auctionId);e&&e.setBidTargeting(i)}},t.getLastAuctionId=function(){const t=e.toArray();return t.length&&t[t.length-1].getAuctionId()},t.clearAllAuctions=function(){e.clear()},t.index=new lr((()=>e.toArray())),t}(),fr=1,pr=2,gr=1,hr=[],mr=(Object.keys(y).map((e=>y[e])),{image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}}),br=Cr(T),yr=Cr(I);function vr(t){if(t&&t.type&&(!(!(n=t.type)||!e(Object.keys(mr),n))||(be(`${n} nativeParam is not supported`),!1))&&(t=mr[t.type]),!t||!t.ortb||function(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return be("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const n=t.map((e=>e.id));return t.length!==new Set(n).size||n.some((e=>e!==parseInt(e,10)))?(be("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(be("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!Be(e))return be("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!Ie(e.img.w)&&!Ie(e.img.wmin))return be("for img asset there must be 'w' or 'wmin' property"),!1;if(!Ie(e.img.h)&&!Ie(e.img.hmin))return be("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!Ie(e.title.len))return be("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!Ie(e.data.type))return be("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&Ie(e.video.minduration)&&Ie(e.video.maxduration)))return be("video asset is not properly configured"),!1;return!0}(e)))}(t.ortb))return t;var n}function wr(t){let{index:n=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.getAdUnit(t);if(!r)return!1;let i=r.nativeOrtbRequest;return function(t,n){if(!t?.link?.url)return be("native response doesn't have 'link' property. Ortb response: ",t),!1;let r=n.assets.filter((e=>1===e.required)).map((e=>e.id)),i=t.assets.map((e=>e.id));const o=r.every((t=>e(i,t)));return o||be(`didn't receive a bid with all required assets. Required ids: ${r}, but received ids in response: ${i}`),o}(t.native?.ortb||function(e,t){const n={...Ar(e),assets:[]};function r(e,r){let i=t.assets.find(e);null!=i&&(i=Pe(i),r(i),n.assets.push(i))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const n=Er(e[t]);switch(t){case"title":r((e=>null!=e.title),(e=>{e.title={text:n}}));break;case"image":case"icon":const e="image"===t?B.MAIN:B.ICON;r((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:n}}));break;default:t in T&&r((e=>null!=e.data&&e.data.type===I[T[t]]),(e=>{e.data={value:n}}))}})),n}(t.native,i),i)}function Er(e){return e?.url||e}function Ar(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((e=>{let[n,r]=e;switch(n){case"clickUrl":t.link.url=r;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(r)?r:[r];break;case"impressionTrackers":(Array.isArray(r)?r:[r]).forEach((e=>{t.eventtrackers.push({event:gr,method:fr,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(r)?r.join(""):r;break;case"privacyLink":t.privacy=r}})),t}function Cr(e){var t={};for(var n in e)t[e[n]]=n;return t}function Tr(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}function Ir(e){let{src:t="client",bidder:n="",bidId:r,transactionId:i,adUnitId:o,auctionId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a=t,d=e||0;Object.assign(this,{bidderCode:n,width:0,height:0,statusMessage:function(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:de(),requestId:r,transactionId:i,adUnitId:o,auctionId:s,mediaType:"banner",source:a}),this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}Object.fromEntries(Object.entries(y).map((e=>{let[t,n]=e;return[n,t]})));const Br=["cpm","ttl","creativeId","netRevenue","currency"],Rr=["auctionId","transactionId"],Sr=Qe((e=>{let{bidderCode:t}=e;if(Kt(ct,Si(Ot,t)))return{bidRequest:e=>e,bidderRequest:e=>e};function n(e,t,n){return Rr.includes(t)?null:Reflect.get(e,t,n)}function r(e,t){const n=new Proxy(e,t);return Object.entries(e).filter((e=>{let[t,n]=e;return"function"==typeof n})).forEach((t=>{let[r,i]=t;return n[r]=i.bind(e)})),n}const i=Qe((e=>r(e,{get:n})),(e=>e.bidId));return{bidRequest:i,bidderRequest:e=>r(e,{get:(t,r,o)=>"bids"===r?e.bids.map(i):n(t,r,o)})}}));function kr(t){return Object.assign(new Tr(t.code),{getSpec:function(){return Object.freeze(Object.assign({},t))},registerSyncs:n,callBids:function(r,i,o,s,a,d){if(!Array.isArray(r.bids))return;const c=Sr(r),l={};function u(t,n){const r=Un(n.metrics);r.checkpoint("addBidResponse"),l[t]=!0,r.measureTime("addBidResponse.validate",(()=>function(t,n){let{index:r=ur.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function i(e){return`Invalid bid from ${n.bidderCode}. Ignoring bid: ${e}`}return t?n?function(){let t=Object.keys(n);return Br.every((r=>e(t,r)&&!e([void 0,null],n[r])))}()?"native"!==n.mediaType||wr(n,{index:r})?"video"!==n.mediaType||function(e){let{index:t=ur.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.getMediaTypes(e)?.video,r=n&&n?.context,i=n&&n?.useCacheKey,o=t.getAdUnit(e);return tn(e,o,n,r,i)}(n,{index:r})?!("banner"===n.mediaType&&!function(e,t){let{index:n=ur.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;if(null!=t.wratio&&null!=t.hratio)return t.wratio=parseInt(t.wratio,10),t.hratio=parseInt(t.hratio,10),!0;const r=n.getBidRequest(t),i=n.getMediaTypes(t),o=(s=r&&r.sizes||i&&i.banner&&i.banner.sizes,(a=s,"string"==typeof a?a.split(/\s*,\s*/).map((e=>e.match(/^(\d+)x(\d+)$/i))).filter((e=>e)).map((e=>{let[t,n,r]=e;return[parseInt(n,10),parseInt(r,10)]})):Array.isArray(a)?ue(a)?[a]:a.filter(ue):[]).map(le));var s,a;if(1===o.length){const[e,n]=o[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(n,10),!0}return!1}(t,n,{index:r}))||(be(i("Banner bids require a width and height")),!1):(be(i("Video bid does not have required vastUrl or renderer property")),!1):(be(i("Native bid missing some required properties.")),!1):(be(i(`Bidder ${n.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):(me(`Some adapter tried to add an undefined bid for ${t}.`),!1):(me("No adUnitCode was supplied to addBidResponse."),!1)}(t,n)))?i(t,n):i.reject(t,n,w)}const f=[];function p(){o(),j.runWithBidder(t.code,(()=>{En(m.BIDDER_DONE,r),n(f,r.gdprConsent,r.uspConsent,r.gppConsent)}))}const g=_r(r).measureTime("validate",(()=>r.bids.filter((e=>{return n=c.bidRequest(e),!!t.isBidRequestValid(n)||(me(`Invalid bid sent to bidder ${t.code}: ${JSON.stringify(n)}`),!1);var n}))));if(0===g.length)return void p();const b={};g.forEach((e=>{b[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),Dr(t,g,r,s,d,{onRequest:e=>En(m.BEFORE_BIDDER_HTTP,r,e),onResponse:e=>{a(t.code),f.push(e)},onPaapi:e=>{const t=b[e.bidId];t?Ur(t,e):me("Received fledge auction configuration for an unknown bidId",e)},onError:(e,n)=>{n.timedOut||a(t.code),Ri.callBidderError(t.code,n,r),En(m.BIDDER_ERROR,{error:n,bidderRequest:r}),be(`Server call for ${t.code} failed: ${e} ${n.status}. Continuing without bids.`,{bidRequests:g})},onBid:e=>{const n=b[e.requestId];if(n){if(e.adapterCode=n.bidder,function(e,t){let n=St.get(t,"allowAlternateBidderCodes")||!1,r=St.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(r=Te(r)?r.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(Ue):r,!n||Te(r)&&"*"!==r[0]&&!r.includes(e)))}(e.bidderCode,n.bidder))return me(`${e.bidderCode} is not a registered partner or known bidder of ${n.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void i.reject(n.adUnitCode,e,A);e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||Object.assign({},e[n.bidder]),e.deferBilling=n.deferBilling,e.deferRendering=e.deferBilling&&(e.deferRendering??"function"!=typeof t.onBidBillable);const s=Object.assign(new Ir(h,n),e,(o=Rr,"object"!=typeof(r=n)?{}:o.reduce(((e,t,n)=>{if("function"==typeof t)return e;let i=t,s=t.match(/^(.+?)\sas\s(.+?)$/i);s&&(t=s[1],i=s[2]);let a=r[t];return"function"==typeof o[n+1]&&(a=o[n+1](a,e)),void 0!==a&&(e[i]=a),e}),{})));u(n.adUnitCode,s)}else me(`Bidder ${t.code} made bid for unknown request ID: ${e.requestId}. Ignoring.`),i.reject(null,e,E);var r,o},onCompletion:p})}});function n(e,n,r,i){xr(t,e,n,r,i)}}const Or=["bids","paapi"],Dr=_t("async",(function(e,t,n,r,i,o){let{onRequest:s,onResponse:a,onPaapi:d,onError:c,onBid:l,onCompletion:u}=o;const f=_r(n);u=f.startTiming("total").stopBefore(u);const p=Sr(n);let h=f.measureTime("buildRequests",(()=>e.buildRequests(t.map(p.bidRequest),p.bidderRequest(n))));if(!h||0===h.length)return void u();Array.isArray(h)||(h=[h]);const m=Le(u,h.length);h.forEach((t=>{const n=f.fork();function o(e){null!=e&&(e.metrics=n.fork().renameWith()),l(e)}const u=i((function(r,i){h();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},a(r);try{r=n.measureTime("interpretResponse",(()=>e.interpretResponse(r,t)))}catch(t){return be(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void m()}let s,c;r&&!Object.keys(r).some((e=>!Or.includes(e)))?(s=r.bids,c=r.paapi):s=r,Te(c)&&c.forEach(d),s&&(Te(s)?s.forEach(o):o(s)),m()})),p=i((function(e,t){h(),c(e,t),m()}));s(t);const h=n.startTiming("net");function b(n){const r=t.options;return Object.assign(n,r,{browsingTopics:!(r?.hasOwnProperty("browsingTopics")&&!r.browsingTopics)&&(St.get(e.code,"topicsHeader")??!0)&&Kt(at,Si(Ot,e.code))})}switch(t.method){case"GET":r(`${t.url}${y=t.data,y?`?${"object"==typeof y?function(e){let t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t=t.replace(/&$/,""),t}(y):y}`:""}`,{success:u,error:p},void 0,b({method:"GET",withCredentials:!0}));break;case"POST":const n=t.options?.endpointCompression,i="TRUE"===we(g).toUpperCase()||ve(),o=e=>{let{url:t,payload:n}=e;r(t,{success:u,error:p},n,b({method:"POST",contentType:"text/plain",withCredentials:!0}))};n&&i&&me(`Skipping GZIP compression for ${e.code} as debug mode is enabled`),n&&!i&&Ze()?async function(e){"string"!=typeof e&&(e=JSON.stringify(e));const t=(new TextEncoder).encode(e),n=new Blob([t]).stream().pipeThrough(new window.CompressionStream("gzip")),r=await new Response(n).blob(),i=await r.arrayBuffer();return new Uint8Array(i)}(t.data).then((e=>{const n=new URL(t.url,window.location.origin);n.searchParams.has("gzip")||n.searchParams.set("gzip","1"),o({url:n.href,payload:e})})):o({url:t.url,payload:"string"==typeof t.data?t.data:JSON.stringify(t.data)});break;default:me(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),m()}var y}))}),"processBidderRequests"),xr=_t("async",(function(e,t,n,r,i){const o=j.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!Ri.aliasRegistry[e.code])){let o=e.getUserSyncs({iframeEnabled:Zt.canBidderRegisterSync("iframe",e.code),pixelEnabled:Zt.canBidderRegisterSync("image",e.code)},t,n,r,i);o&&(Array.isArray(o)||(o=[o]),o.forEach((t=>{Zt.registerSync(t.type,e.code,t.url)})),Zt.bidderDone(e.code))}}),"registerSyncs"),Ur=_t("sync",((e,t)=>{}),"addPaapiConfig");function _r(e){return Un(e.metrics).renameWith((t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`]))}let jr={};function qr(e,t,n){let r=function(e,t){let n=jr[e]=jr[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}function Pr(e){return qr(e,"auctionsCounter")}function $r(e){return jr?.[e]?.requestsCounter||0}function Nr(e,t){return jr?.[e]?.bidders?.[t]?.requestsCounter||0}function Mr(e,t){return jr?.[e]?.bidders?.[t]?.winsCounter||0}function Lr(e){return jr?.[e]?.auctionsCounter||0}function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;let n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:`${n}//${e}`}function Gr(e){let{noLeadingWww:t=!1,noPort:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=new URL(Wr(e))}catch(e){return}return e=n?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function Fr(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const Hr=function(e){let t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){const o=Fr(i.document),s=i.location.href;return t===o&&s===n||(t=o,n=s,r=e()),r}}((Vr=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(Vr),n=j.getConfig("maxNestedIframes");let r,i,o,s,a=!1,d=0,c=!1,l=!1,u=!1;do{const n=r,s=l;let f,p=!1,g=null;l=!1,r=r?r.parent:Vr;try{f=r.location.href||null}catch(e){p=!0}if(p)if(s){const e=n.context;try{g=e.sourceUrl,i=g,u=!0,c=!0,r===Vr.top&&(a=!0),e.canonicalUrl&&(o=e.canonicalUrl)}catch(e){}}else{me("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=n.document.referrer;e&&(g=e,r===Vr.top&&(a=!0))}catch(e){}!g&&t&&t[d-1]&&(g=t[d-1],r===Vr.top&&(u=!0)),g&&!c&&(i=g)}else{if(f&&(g=f,i=g,c=!1,r===Vr.top)){a=!0;const e=Fr(r.document);e&&(o=e)}r.context&&r.context.sourceUrl&&(l=!0)}e.push(g),d++}while(r!==Vr.top&&d<n);e.reverse();try{s=Vr.top.document.referrer}catch(e){}const f=a||u?i:null,p=j.getConfig("pageUrl")||o||null;let g=j.getConfig("pageUrl")||f||Wr(p,Vr);return f&&f.indexOf("?")>-1&&-1===g.indexOf("?")&&(g=`${g}${f.substring(f.indexOf("?"))}`),{reachedTop:a,isAmp:c,numIframes:d-1,stack:e,topmostLocation:i||null,location:f,canonicalUrl:p,page:g,domain:Gr(g)||null,ref:s||null,legacy:{reachedTop:a,isAmp:c,numIframes:d-1,stack:e,referer:i||null,canonicalUrl:p}}}));var Vr;Object.freeze({});class zr{#i;#o;#s;#a;#d=!0;#c;generatedTime;hashFields;constructor(){this.reset()}#l(e){this.#a=!0,this.#o=e,this.#s.resolve(e)}reset(){this.#s=G(),this.#i=!1,this.#o=null,this.#a=!1,this.generatedTime=null}enable(){this.#i=!0}get enabled(){return this.#i}get ready(){return this.#a}get promise(){return this.#a?W.resolve(this.#o):(this.#i||this.#l(null),this.#s.promise)}setConsentData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e();this.generatedTime=t,this.#d=!0,this.#l(e)}getConsentData(){return this.#o}get hash(){return this.#d&&(this.#c=Ye(JSON.stringify(this.#o&&this.hashFields?this.hashFields.map((e=>this.#o[e])):this.#o)),this.#d=!1),this.#c}}const Kr=new class extends zr{hashFields=["gdprApplies","consentString"];getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Ce(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},Jr=new class extends zr{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},Yr=new class extends zr{hashFields=["applicableSections","gppString"];getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},Qr=(()=>{function e(){return!!j.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return W.resolve(e())},get hash(){return e()?"1":"0"}}})(),Xr=function(){const e={},t={},n={};return{register(r,i,o){o&&((e[i]=e[i]||{})[r]=o,t.hasOwnProperty(i)?t[i]!==o&&(t[i]=n):t[i]=o)},get(r){const i={modules:e[r]||{}};return t.hasOwnProperty(r)&&t[r]!==n&&(i.gvlid=t[r]),i}}}(),Zr={gdpr:Kr,usp:Jr,gpp:Yr,coppa:Qr};!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;e=Object.entries(e),Object.assign({get promise(){return W.all(e.map((e=>{let[t,n]=e;return n.promise.then((e=>[t,e]))}))).then((e=>Object.fromEntries(e)))},get hash(){return Ye(e.map((e=>{let[t,n]=e;return n.hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((t=>{return[t,(n=t,function(){return Object.fromEntries(e.map((e=>{let[t,r]=e;return[t,r[n]()]})))})];var n}))))}();const ei=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((e=>`user.${e}`)).concat("device.ext.cdep"),ti=["user.eids","user.ext.eids"],ni=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"],ri=["device.ip"],ii=["device.ipv6"];function oi(e){return Object.assign({get(){},run(e,t,n,r,i){const o=n&&n[r];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(o)&&i()){const e=this.get(o);void 0===e?delete n[r]:n[r]=e}}},e)}function si(e){return e.forEach((e=>{e.paths=e.paths.map((e=>{const t=e.split("."),n=t.pop();return[t.length>0?t.join("."):null,n]}))})),function(t,n){const r=[];for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){return e.hasOwnProperty(t.name)||(e[t.name]=!!t.applies(...n)),e[t.name]}}(t,...o);return e.forEach((e=>{if(!1!==t[e.name])for(const[i,o]of e.paths){const s=null==i?n:f(n,i);if(r.push(e.run(n,i,s,o,a.bind(null,e))),!1===t[e.name])return}})),r.filter((e=>null!=e))}}function ai(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt;return function(n){return!t(e,n)}}const di=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;const t=si(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return[{name:at,paths:ei,applies:ai(at,e)},{name:st,paths:ti,applies:ai(st,e)},{name:dt,paths:ni,applies:ai(dt,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:dt,paths:ri,applies:ai(dt,e),get:e=>function(e){if(!e)return null;let t=e.split(".").map(Number);if(4!=t.length)return null;let n=[];for(let e=0;e<4;e++){let t=Math.max(0,Math.min(8,24-8*e));n.push(255<<8-t&255)}return t.map(((e,t)=>e&n[t])).join(".")}(e)},{name:dt,paths:ii,applies:ai(dt,e),get:e=>function(e){if(!e)return null;let t=e.split(":").map((e=>parseInt(e,16)));for(t=t.map((e=>isNaN(e)?0:e));t.length<8;)t.push(0);if(8!=t.length)return null;let n=[];for(let e=0;e<8;e++){let t=Math.max(0,Math.min(16,64-16*e));n.push(65535<<16-t&65535)}return t.map(((e,t)=>e&n[t])).map((e=>e.toString(16))).join(":")}(e)},{name:ct,paths:["source.tid"],applies:ai(ct,e)}].map(oi)}(e)),n=si(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return[{name:st,paths:["userId","userIdAsEids"],applies:ai(st,e)},{name:ct,paths:["ortb2Imp.ext.tid"],applies:ai(ct,e)}].map(oi)}(e));return function(e){const r={};return{ortb2:n=>(t(r,n,e),n),bidRequest:t=>(n(r,t,e),t)}}}();zt(ct,"enableTIDs config",(()=>{if(!j.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}));const ci="pbsBidAdapter",li={CLIENT:"client",SERVER:"server"},ui={isAllowed:Kt,redact:di};let fi={},pi=fi.bidderRegistry={},gi=fi.aliasRegistry={},hi=[];j.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(hi=Te(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var mi={};const bi=Ht((e=>fi.resolveAlias(e)));function yi(e){return e.configName??e.name}const vi=_t("sync",(function(t){let{bidderCode:n,auctionId:r,bidderRequestId:i,adUnits:o,src:s,metrics:a}=t;return o.reduce(((t,o)=>{const d=o.bids.filter((e=>e.bidder===n));return null==n&&0===d.length&&null!=o.s2sBid&&d.push({bidder:null}),t.push(d.reduce(((t,d)=>{var c;const l=null==(d=Object.assign({},d,{ortb2Imp:Ke({},o.ortb2Imp,d.ortb2Imp)},(c=o,["nativeParams","nativeOrtbRequest","mediaType","renderer"].filter((e=>c[e])).reduce(((e,t)=>Object.assign(e,{[t]:c[t]})),{})))).mediaTypes?o.mediaTypes:d.mediaTypes;return function(t){const n=["banner","native","video"];return!!Object.keys(t).every((t=>e(n,t)))&&(!t.video||!t.video.context||e(["instream","outstream","adpod"],t.video.context))}(l)?d=Object.assign({},d,{mediaTypes:l}):be(`mediaTypes is not correctly configured for adunit ${o.code}`),"client"===s&&function(e,t){qr(e,"requestsCounter",t)}(o.code,n),t.push(Object.assign({},d,{adUnitCode:o.code,transactionId:o.transactionId,adUnitId:o.adUnitId,sizes:l?.banner?.sizes||l?.video?.playerSize||[],bidId:d.bid_id||de(),bidderRequestId:i,auctionId:r,src:s,metrics:a,auctionsCount:Lr(o.code),bidRequestsCount:$r(o.code),bidderRequestsCount:Nr(o.code,d.bidder),bidderWinsCount:Mr(o.code,d.bidder),deferBilling:!!o.deferBilling})),t}),[])),t}),[]).reduce(_e,[]).filter((e=>""!==e))}),"getBids"),wi=_t("sync",(function(e,t){let{getS2SBidders:n=Ai}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return e;{const r=n(t);return e.filter((e=>{if(!r.has(e.bidder))return!1;if(null==e.s2sConfigName)return!0;const n=yi(t);return(Array.isArray(e.s2sConfigName)?e.s2sConfigName:[e.s2sConfigName]).includes(n)}))}}),"filterBidsForAdUnit"),Ei=_t("sync",((e,t)=>e),"setupAdUnitMediaTypes");function Ai(e){Te(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const Ci=_t("sync",(function(e,t){let{getS2SBidders:n=Ai}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n(t);return je(e).reduce(((e,t)=>(e[r.has(t)?li.SERVER:li.CLIENT].push(t),e)),{[li.CLIENT]:[],[li.SERVER]:[]})}),"partitionBidders");function Ti(e,t){const n=pi[e],r=n?.getSpec&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function Ii(e,t,n,r){try{he(`Invoking ${e}.${t}`);for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];j.runWithBidder(e,r.bind(n,...o))}catch(n){me(`Error calling ${t} of ${e}`)}}function Bi(e,t,n){if(n?.source!==v){const r=Ti(e,t);null!=r&&Ii(e,t,...r,n)}}fi.makeBidRequests=_t("sync",(function(e,n,r,i,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6?arguments[6]:void 0;a=Un(a),En(m.BEFORE_REQUEST_BIDS,e),function(e){e.forEach((e=>{const t=e.nativeParams||e?.mediaTypes?.native;t&&(e.nativeParams=vr(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!Be(e))return void be("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let n in e){if(R.includes(n))continue;if(!y.hasOwnProperty(n)){be(`Unrecognized native asset code: ${n}. Asset will be ignored.`);continue}if("privacyLink"===n){t.privacy=1;continue}const r=e[n];let i=0;r.required&&Re(r.required)&&(i=Number(r.required));const o={id:t.assets.length,required:i};if(n in T)o.data={type:I[T[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?B.ICON:B.MAIN},r.aspect_ratios)if(Te(r.aspect_ratios))if(r.aspect_ratios.length){const{min_width:e,min_height:t}=r.aspect_ratios[0];Ge(e)&&Ge(t)?(o.img.wmin=e,o.img.hmin=t):be("image.aspect_ratios min_width or min_height are invalid: ",e,t);const n=r.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));n.length>0&&(o.img.ext={aspectratios:n})}else be("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else be("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&Ge(r.sizes[0])&&Ge(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):be("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}return t}(e.nativeParams))}))}(e),e.map((e=>e.code)).filter(Ue).forEach(Pr),e.forEach((e=>{Be(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((e=>!e.bidder||ui.isAllowed(ot,bi(Ot,e.bidder)))),qr(e.code,"requestsCounter")})),e=Ei(e,o);let{[li.CLIENT]:d,[li.SERVER]:c}=Ci(e,hi);j.getConfig("bidderSequence")===O&&(d=qe(d));const l=Hr();let u=[];const f=s.global||{},p=s.bidder||{};function g(e,t){const n=ui.redact(null!=t?t:bi(Ot,e.bidderCode)),i=Object.freeze(n.ortb2(Ke({source:{tid:r}},f,p[e.bidderCode])));return e.ortb2=i,e.bids=e.bids.map((e=>(e.ortb2=i,n.bidRequest(e)))),e}hi.forEach((i=>{const o=function(e){return bi(kt,ci,{[Lt]:yi(e)})}(i);if(i&&i.enabled&&ui.isAllowed(ot,o)){let{adUnits:s,hasModuleBids:d}=function(e,t){let n=Pe(e),r=!1;return n.forEach((e=>{const n=e.bids.filter((e=>e.module===ci&&e.params?.configName===yi(t)));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=Ke({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&me('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=wi(e.bids,t).map((e=>(e.bid_id=de(),e)))})),n=n.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:n,hasModuleBids:r}}(e,i),f=ce();(0===c.length&&d?[null]:c).forEach((e=>{const t=de(),d=a.fork(),c=g({bidderCode:e,auctionId:r,bidderRequestId:t,uniquePbsTid:f,bids:vi({bidderCode:e,auctionId:r,bidderRequestId:t,adUnits:Pe(s),src:v,metrics:d}),auctionStart:n,timeout:i.timeout,src:v,refererInfo:l,metrics:d},o);0!==c.bids.length&&u.push(c)})),s.forEach((e=>{let n=e.bids.filter((e=>t(u,(n=>t(n.bids,(t=>t.bidId===e.bid_id))))));e.bids=n})),u.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=s.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let h=function(e){let t=Pe(e);return t.forEach((e=>{e.bids=wi(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return d.forEach((e=>{const t=de(),s=a.fork(),d=g({bidderCode:e,auctionId:r,bidderRequestId:t,bids:vi({bidderCode:e,auctionId:r,bidderRequestId:t,adUnits:Pe(h),labels:o,src:"client",metrics:s}),auctionStart:n,timeout:i,refererInfo:l,metrics:s}),c=pi[e];c||be(`Trying to make a request for bidder that does not exist: ${e}`),c&&d.bids&&0!==d.bids.length&&u.push(d)})),u.forEach((e=>{Kr.getConsentData()&&(e.gdprConsent=Kr.getConsentData()),Jr.getConsentData()&&(e.uspConsent=Jr.getConsentData()),Yr.getConsentData()&&(e.gppConsent=Yr.getConsentData())})),u}),"makeBidRequests"),fi.callBids=function(e,t,n,r,i,o,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!t.length)return void me("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[d,c]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===v)].push(t),e)),[[],[]]);var l=[];c.forEach((e=>{for(var t=-1,n=0;n<l.length;++n)if(e.uniquePbsTid===l[n].uniquePbsTid){t=n;break}t<=-1&&l.push(e)}));let u=0;hi.forEach((e=>{if(e&&l[u]&&Ai(e).has(l[u].bidderCode)){const t=bt(o,i?{request:i.request.bind(null,"s2s"),done:i.done}:void 0);let d=e.bidders;const f=pi[e.adapter];let p=l[u].uniquePbsTid,g=l[u].adUnitsS2SCopy,h=c.filter((e=>e.uniquePbsTid===p));if(f){let i={ad_units:g,s2sConfig:e,ortb2Fragments:a,requestBidsTimeout:o};if(i.ad_units.length){let e=h.map((e=>(e.start=$e(),function(t){t||s(e.bidderRequestId),r.apply(e,arguments)})));const o=je(i.ad_units).filter((e=>d.includes(e)));ge(`CALLING S2S HEADER BIDDERS ==== ${o.length>0?o.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),h.forEach((e=>{En(m.BID_REQUESTED,{...e,tid:e.auctionId})})),f.callBids(i,c,n,(t=>e.forEach((e=>e(t)))),t)}}else be("missing "+e.adapter);u++}})),d.forEach((e=>{e.start=$e();const t=pi[e.bidderCode];j.runWithBidder(e.bidderCode,(()=>{ge("CALLING BIDDER"),En(m.BID_REQUESTED,e)}));let a=bt(o,i?{request:i.request.bind(null,e.bidderCode),done:i.done}:void 0);const d=r.bind(e);try{j.runWithBidder(e.bidderCode,t.callBids.bind(t,e,n,d,a,(()=>s(e.bidderRequestId)),j.callbackWithBidder(e.bidderCode)))}catch(t){be(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),d()}}))},fi.videoAdapters=[],fi.registerBidAdapter=function(t,n){let{supportedMediaTypes:r=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&n?"function"==typeof t.callBids?(pi[n]=t,Xr.register(Ot,n,t.getSpec?.().gvlid),e(r,"video")&&fi.videoAdapters.push(n),e(r,"native")&&hr.push(n)):be("Bidder adaptor error for bidder code: "+n+"bidder must implement a callBids() function"):be("bidAdapter or bidderCode not specified")},fi.aliasBidAdapter=function(t,n,r){if(void 0===pi[n]){let i=pi[t];if(void 0===i){const r=[];hi.forEach((i=>{if(i.bidders&&i.bidders.length){const o=i&&i.bidders;i&&e(o,n)?gi[n]=t:r.push(t)}})),r.forEach((e=>{be('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let o,s=function(t){let n=[];return e(fi.videoAdapters,t)&&n.push("video"),e(hr,t)&&n.push("native"),n}(t);if(i.constructor.prototype!=Object.prototype)o=new i.constructor,o.setBidderCode(n);else{const{useBaseGvlid:e=!1}=r||{};let s=i.getSpec();const a=e?s.gvlid:r?.gvlid;null==a&&null!=s.gvlid&&me(`Alias '${n}' will NOT re-use the GVL ID of the original adapter ('${s.code}', gvlid: ${s.gvlid}). Functionality that requires TCF consent may not work as expected.`);let d=r&&r.skipPbsAliasing;o=kr(Object.assign({},s,{code:n,gvlid:a,skipPbsAliasing:d})),gi[n]=t}fi.registerBidAdapter(o,n,{supportedMediaTypes:s})}catch(e){be(t+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else ge('alias name "'+n+'" has been already specified.')},fi.resolveAlias=function(e){let t,n=e;for(;gi[n]&&(!t||!t.has(n));)n=gi[n],(t=t||new Set).add(n);return n},fi.registerAnalyticsAdapter=function(e){let{adapter:t,code:n,gvlid:r}=e;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,mi[n]={adapter:t,gvlid:r},Xr.register(Dt,n,r)):be(`Prebid Error: Analytics adaptor error for analytics "${n}"\n        analytics adapter must implement an enableAnalytics() function`):be("Prebid Error: analyticsAdapter or analyticsCode not specified")},fi.enableAnalytics=function(e){Te(e)||(e=[e]),e.forEach((e=>{const t=mi[e.provider];t&&t.adapter?ui.isAllowed("reportAnalytics",bi(Dt,e.provider,{[Ft]:e}))&&t.adapter.enableAnalytics(e):be(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)}))},fi.getBidAdapter=function(e){return pi[e]},fi.getAnalyticsAdapter=function(e){return mi[e]},fi.callTimedOutBidders=function(e,t,n){var r;t=t.map((t=>(t.params=We(e,t.adUnitCode,t.bidder),t.timeout=n,t))),r="bidder",t=t.reduce((function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e}),{}),Object.keys(t).forEach((e=>{Bi(e,"onTimeout",t[e])}))},fi.callBidWonBidder=function(e,t,n){t.params=We(n,t.adUnitCode,t.bidder),qr(t.adUnitCode,"winsCounter",t.bidder),Bi(e,"onBidWon",t)},fi.triggerBilling=(()=>{const e=new WeakSet;return t=>{var n;e.has(t)||(e.add(t),((n=t.eventtrackers,(n??[]).reduce(((e,t)=>{let{event:n,method:r,url:i}=t;const o=e[n]=e[n]??{};return(o[r]=o[r]??[]).push(i),e}),{}))[gr]?.[fr]||[]).forEach((e=>oe.triggerPixel(e))),Bi(t.bidder,"onBidBillable",t))}})(),fi.callSetTargetingBidder=function(e,t){Bi(e,"onSetTargeting",t)},fi.callBidViewableBidder=function(e,t){Bi(e,"onBidViewable",t)},fi.callBidderError=function(e,t,n){Bi(e,"onBidderError",{error:t,bidderRequest:n})},fi.callAdRenderSucceededBidder=function(e,t){Bi(e,"onAdRenderSucceeded",t)},fi.callDataDeletionRequest=_t("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="onDataDeletionRequest";Object.keys(pi).filter((e=>!gi.hasOwnProperty(e))).forEach((e=>{const n=Ti(e,r);if(null!=n){const i=ur.getBidsRequested().filter((t=>function(e){const t=new Set;for(;gi.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=gi[e];return e}(t.bidderCode)===e));Ii(e,r,...n,i,...t)}})),Object.entries(mi).forEach((e=>{let[n,i]=e;const o=i?.adapter?.[r];if("function"==typeof o)try{o.apply(i.adapter,t)}catch(e){be(`error calling ${r} of ${n}`,e)}}))}));const Ri=fi,Si=Ht((e=>Ri.resolveAlias(e))),ki=new WeakMap,Oi=["debugging","outstream","aaxBlockmeter","adagio","adloox","akamaidap","arcspan","airgrid","browsi","brandmetrics","clean.io","humansecurity","confiant","contxtful","hadron","mediafilter","medianet","azerionedge","a1Media","geoedge","qortex","dynamicAdBoost","51Degrees","symitridap","wurfl","nodalsAi","anonymised","optable","justtag","tncId","ftrackId","id5"];const Di=L(),xi="outstream";function Ui(n){const{url:r,config:i,id:o,callback:s,loaded:a,adUnitCode:d,renderNow:c}=n;this.url=r,this.config=i,this.handlers={},this.id=o,this.renderNow=c,this.adUnitCode=d,this.loaded=a,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):be("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||(()=>{this.loaded=!0,this.process()}),this.render=function(){const n=arguments,i=()=>{this._render?this._render.apply(this,n):me("No render function was provided, please use .setRender on the renderer")};!function(e){const n=t(Di.adUnits,(t=>t.code===e));if(!n)return!1;const r=n?.renderer,i=!!(r&&r.url&&r.render),o=n?.mediaTypes?.video?.renderer,s=!!(o&&o.url&&o.render);return!!(i&&!0!==r.backupOnly||s&&!0!==o.backupOnly)}(d)?c?i():(this.cmd.unshift(i),function(t,n,r,i,o,s){if(!Kt(lt,Si(n,r)))return;if(!r||!t)return void be("cannot load external script without url and moduleCode");if(!e(Oi,r))return void be(`${r} not whitelisted for loading external JavaScript`);o||(o=document);const a=l(o,t);if(a)return i&&"function"==typeof i&&(a.loaded?i():a.callbacks.push(i)),a.tag;const d=ki.get(o)||{},c={loaded:!1,tag:null,callbacks:[]};return d[t]=c,ki.set(o,d),i&&"function"==typeof i&&c.callbacks.push(i),me(`module ${r} is loading external JavaScript`),function(e,n,r,i){r||(r=document);var o=r.createElement("script");o.type="text/javascript",o.async=!0;const s=l(r,t);return s&&(s.tag=o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()},o.src=e,i&&function(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;return e.setAttribute(n,r)}))}(o,i),ke(o,r),o}(t,(function(){c.loaded=!0;try{for(let e=0;e<c.callbacks.length;e++)c.callbacks[e]()}catch(e){be("Error executing callback","adloader.js:loadExternalScript",e)}}),o,s);function l(e,t){const n=ki.get(e);return n&&n[t]?n[t]:null}}(r,kt,xi,this.callback,this.documentContext)):(me(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${d}`),i())}.bind(this)}Ui.install=function(e){let{url:t,config:n,id:r,callback:i,loaded:o,adUnitCode:s,renderNow:a}=e;return new Ui({url:t,config:n,id:r,callback:i,loaded:o,adUnitCode:s,renderNow:a})},Ui.prototype.getConfig=function(){return this.config},Ui.prototype.setRender=function(e){this._render=e},Ui.prototype.setEventHandlers=function(e){this.handlers=e},Ui.prototype.handleVideoEvent=function(e){let{id:t,eventName:n}=e;"function"==typeof this.handlers[n]&&this.handlers[n](),ge(`Prebid Renderer event for id ${t} type ${n}`)},Ui.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){be(`Error processing Renderer command on ad unit '${this.adUnitCode}':`,e)}};const _i=["img","video","link","data","title"],ji={[nt]:(e,t)=>{if(!t.hasOwnProperty("ad")&&!t.hasOwnProperty("adUrl")){let[e,n]=(t.width??t.wratio)<(t.height??t.hratio)?[t.width,"repeat-y"]:[t.height,"repeat-x"];e=null==e?"100%":`${e}px`,t.ad=`<html><body><div style="display: inline-block; height: ${null==t.height?"100%":t.height+"px"}; width: ${null==t.width?"100%":t.width+"px"}; background-image: url(https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png); background-size: ${e}; background-repeat: ${n}"></div></body></html>`}},[tt]:(e,n)=>{n.hasOwnProperty("vastXml")||n.hasOwnProperty("vastUrl")||(n.vastXml='<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>',n.renderer=Ui.install({url:"https://cdn.jwplayer.com/libraries/l5MchIxB.js"}),n.renderer.setRender((function(e,r){const i=function(e){const n=function(e){let n;return function(){if(window.googletag&&Ae(window.googletag.pubads)&&Ae(window.googletag.pubads().getSlots))return!0}()&&(n=t(window.googletag.pubads().getSlots(),function(e){return t=>((e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t)(t,e)}(e))),n}(e);return n?{gptSlot:n.getAdUnitPath(),divId:n.getSlotElementId()}:{}}(e.adUnitCode).divId??e.adUnitCode,o=r.createElement("div");o.id=`${i}-video-player`,r.getElementById(i).appendChild(o);const s=window.jwplayer(o.id).setup({debug:!0,width:n.width,height:n.height,advertising:{client:"vast",outstream:!0,endstate:"close"}});s.on("ready",(async function(){e.vastUrl?s.loadAdTag(e.vastUrl):s.loadAdXml(e.vastXml)}))})))},[et]:(e,t)=>{t.hasOwnProperty("native")||(t.native={ortb:{link:{url:"https://www.link.example",clicktrackers:["https://impression.example"]},assets:e.nativeOrtbRequest.assets.map(qi)}})}};function qi(e){switch(_i.find((t=>e.hasOwnProperty(t)))){case"img":return{...e,img:{type:3,w:600,h:500,url:"https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png"}};case"video":return{...e,video:{vasttag:'<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>'}};case"data":return{...e,data:{value:"5 stars"}};case"title":return{...e,title:{text:"Prebid Native Example"}}}}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};({setTimeout:this.setTimeout=window.setTimeout.bind(window)}=e),this.logger=e.logger,this.rules=[]}let $i,Ni;function Mi(e,t){let{hook:n,logger:r}=t;$i=Hi.bind({overrides:e,logger:r}),n.get("addBidResponse").before($i,5),Ni=Vi.bind({overrides:e,logger:r}),n.get("addBidderRequests").before(Ni,5)}function Li(e){let{hook:t}=e;t.get("addBidResponse").getHooks({hook:$i}).remove(),t.get("addBidderRequests").getHooks({hook:Ni}).remove()}function Wi(e,t,n){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===n)}function Gi(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function Fi(e,t,n,r){return Object.keys(e).filter((e=>-1===["adUnitCode","bidder"].indexOf(e))).reduce((function(t,i){return r.logMessage(`bidder overrides changed '${t.adUnitCode}/${t.bidderCode}' ${n}.${i} from '${t[i]}.js' to '${e[i]}'`),t[i]=e[i],t.isDebug=!0,t}),t)}function Hi(e,t,n,r){const{overrides:i,logger:o}=this;Gi(i.bidders,n.bidderCode)?o.logWarn(`bidder '${n.bidderCode}' excluded from auction by bidder overrides`):(Array.isArray(i.bids)&&i.bids.forEach((function(e){Wi(e,n.bidderCode,t)||Fi(e,n,"bidder",o)})),e(t,n,r))}function Vi(e,t){const{overrides:n,logger:r}=this,i=t.filter((function(e){return!Gi(n.bidders,e.bidderCode)||(r.logWarn(`bidRequest '${e.bidderCode}' excluded from auction by bidder overrides`),!1)}));Array.isArray(n.bidRequests)&&i.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){Wi(t,e.bidderCode,n.adUnitCode)||Fi(t,n,"bidRequest",r)}))}))})),e(i)}Object.assign(Pi.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig(e){return e.filter(((e,t)=>{const n=!Xe(e);return n||f(e,"options.suppressWarnings")||this.logger.logWarn(`Bid interceptor rule definition #${t+1} contains non-serializable properties and will be lost after a refresh. Rule definition: `,e),n}))},updateConfig(e){this.rules=(e.intercept||[]).map(((e,t)=>this.rule(e,t+1)))},rule(e,t){return{no:t,match:this.matcher(e.when,t),replace:this.replacer(e.then,t),options:Object.assign({},this.DEFAULT_RULE_OPTIONS,e.options),paapi:this.paapiReplacer(e.paapi||[],t)}},matcher(e,t){if("function"==typeof e)return e;if("object"!=typeof e)return this.logger.logError(`Invalid 'when' definition for debug bid interceptor (in rule #${t})`),()=>!1;function n(t,r){let{ref:i=e,args:o=[]}=r;return Object.entries(i).map((e=>{let[r,i]=e;const s=t[r];return i instanceof RegExp?null!=i.exec(s):"function"==typeof i?!!i(s,...o):"object"==typeof i?n(s,{ref:i,args:o}):s===i})).every((e=>e))}return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n(e,{args:r})}},replacer(e,t){var n=this;if(null===e)return()=>null;let r;return"function"==typeof(e=e||{})?r=t=>{let{args:n}=t;return e(...n)}:"object"!=typeof e?(this.logger.logError(`Invalid 'then' definition for debug bid interceptor (in rule #${t})`),r=()=>({})):r=t=>{let{args:n,ref:i=e}=t;const o=Array.isArray(i)?[]:{};return Object.entries(i).forEach((e=>{let[t,i]=e;o[t]="function"==typeof i?i(...n):null!=i&&"object"==typeof i?r({args:n,ref:i}):i})),o},function(e){const t=n.responseDefaults(e);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];Ke(t,r({args:[e,...o]}));const a=ji[t.mediaType];return a&&a(e,t),t.isDebug=!0,t}},paapiReplacer(e,t){function n(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>Object.keys(e).some((e=>!["config","igb"].includes(e)))?{config:e}:e))}return Array.isArray(e)?()=>n(e):"function"==typeof e?function(){return n(e(...arguments))}:void this.logger.logError(`Invalid 'paapi' definition for debug bid interceptor (in rule #${t})`)},responseDefaults(e){const t={requestId:e.bidId,cpm:3.5764,currency:"EUR",ttl:360,creativeId:"mock-creative-id",netRevenue:!1,meta:{}};let n;return e.mediaType||(t.mediaType=Object.keys(e.mediaTypes??{})[0]??nt),t.mediaType===nt?n=e.mediaTypes?.banner?.sizes?.[0]??[300,250]:t.mediaType===tt&&(n=e.mediaTypes?.video?.playerSize?.[0]??[600,500]),Array.isArray(n)&&([t.width,t.height]=n),t},match(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.rules.find((t=>t.match(e,...n)))},matchAll(e,t){const[n,r]=[[],[]];return e.forEach((e=>{const i=this.match(e,t);null!=i?n.push({rule:i,bid:e}):r.push(e)})),[n,r]},intercept(e){let{bids:t,bidRequest:n,addBid:r,addPaapiConfig:i,done:o}=e;null==t&&(t=n.bids);const[s,a]=this.matchAll(t,n);if(s.length>0){const e=Le(o,s.length);s.forEach((t=>{const o=t.rule.replace(t.bid,n),s=t.rule.paapi(t.bid,n),a=t.rule.options.delay;this.logger.logMessage(`Intercepted bid request (matching rule #${t.rule.no}), mocking response in ${a}ms. Request, response, PAAPI configs:`,t.bid,o,s),this.setTimeout((()=>{o&&r(o,t.bid),s.forEach((e=>i(e,t.bid,n))),e()}),a)})),n=Pe(n),t=n.bids=a}else this.setTimeout(o,0);return{bids:t,bidRequest:n}}});const zi=[];let Ki,Ji=!1;function Yi(e,t){let{fromSession:n=!1,config:r,hook:i,logger:o}=t;r.setConfig({debug:!0}),Ki.updateConfig(e),Qi(!0),Li({hook:i}),Mi(e,{hook:i,logger:o}),Ji||(Ji=!0,o.logMessage("Debug overrides enabled"+(n?" from session":"")))}function Qi(e){zi.forEach((e=>{let[t,n]=e;t().getHooks({hook:n}).remove()})),e&&zi.forEach((e=>{let[t,n]=e;t().before(n)}))}function Xi(e,t){const n=function(){return Ki.intercept(...arguments)};zi.push([e,function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t(e,n,...i)}])}function Zi(e,t,n,r,i,o,s,a){const d=Le(a.onCompletion,2);({bids:r,bidRequest:i}=t({bids:r,bidRequest:i,addBid:s(a.onBid),addPaapiConfig:s(((e,t)=>a.onPaapi({bidId:t.bidId,...e}))),done:d})),0===r.length?(a.onResponse?.({}),d()):e(n,r,i,o,s,{...a,onCompletion:d})}function eo(e){let{DEBUG_KEY:t,config:n,hook:r,createBid:i,logger:o}=e;Ki=new Pi({logger:o});const s=function(e){let{createBid:t}=e;return function(e,n,r,i,o,s){let a,{onResponse:d,onError:c,onBid:l,onFledge:u}=s;const f=Le((()=>d(...a)),i.length+1);function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=t,f()}function g(e,n){l({adUnit:n.adUnitCode,bid:Object.assign(t(h,n),{requestBidder:n.bidder},e)})}if(i=i.map((e=>n({bidRequest:e,addBid:g,addPaapiConfig(e,t,n){u({adUnitCode:t.adUnitCode,ortb2:n.ortb2,ortb2Imp:t.ortb2Imp,...e})},done:f}).bidRequest)).filter((e=>e.bids.length>0)),i.length>0){const t=new Set;i.forEach((e=>e.bids.forEach((e=>t.add(e.bidId))))),(r=Pe(r)).ad_units.forEach((e=>{e.bids=e.bids.filter((e=>t.has(e.bid_id)))})),r.ad_units=r.ad_units.filter((e=>e.bids.length>0)),e(r,i,o,{onResponse:p,onError:c,onBid:l})}else p(!0,[])}}({createBid:i});Xi((()=>r.get("processBidderRequests")),Zi),Xi((()=>r.get("processPBSRequest")),s),function(e){let t,{DEBUG_KEY:n,storage:r,config:i,hook:o,logger:s}=e;try{r=r||window.sessionStorage,t=JSON.parse(r.getItem(n))}catch(e){}t&&Yi(t,{fromSession:!0,config:i,hook:o,logger:s})}({DEBUG_KEY:t,config:n,hook:r,logger:o}),n.getConfig("debugging",(e=>{let{debugging:i}=e;return function(e){let t,{getStorage:n=(()=>window.sessionStorage),DEBUG_KEY:r,config:i,hook:o,logger:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){try{t=n()}catch(e){s.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=t&&function(e){let{sessionStorage:t=window.sessionStorage,DEBUG_KEY:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.enabled){e.intercept&&((e=Pe(e)).intercept=Ki.serializeConfig(e.intercept));try{t.setItem(n,JSON.stringify(e))}catch(e){}}else try{t.removeItem(n)}catch(e){}}(e,{sessionStorage:t,DEBUG_KEY:r}),e.enabled?Yi(e,{config:i,hook:o,logger:s}):function(e){let{hook:t,logger:n}=e;Ki.updateConfig({}),Qi(!1),Li({hook:t}),Ji&&(Ji=!1,n.logMessage("Debug overrides disabled"))}({hook:o,logger:s})}}(i,{DEBUG_KEY:t,config:n,hook:r,logger:o})}),{init:!0})}window._pbjsGlobals.forEach((e=>{window[e]&&!0===window[e]._installDebugging&&(window[e]._installDebugging=eo)}))})()})();