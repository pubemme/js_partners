(self.pbjsPMChunk=self.pbjsPMChunk||[]).push([[969],{7620:(e,i,t)=>{var r=t(7873),o=t(3272),n=t(9214),s=t(1069),d=t(1371),a=t(433),l=t(5789),c=t(1252);const g=["img","video","link","data","title"],u={[d.D4]:(e,i)=>{if(!i.hasOwnProperty("ad")&&!i.hasOwnProperty("adUrl")){let[e,t]=(i.width??i.wratio)<(i.height??i.hratio)?[i.width,"repeat-y"]:[i.height,"repeat-x"];e=null==e?"100%":`${e}px`,i.ad=`<html><body><div style="display: inline-block; height: ${null==i.height?"100%":i.height+"px"}; width: ${null==i.width?"100%":i.width+"px"}; background-image: url(https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png); background-size: ${e}; background-repeat: ${t}"></div></body></html>`}},[d.G_]:(e,i)=>{i.hasOwnProperty("vastXml")||i.hasOwnProperty("vastUrl")||(i.vastXml='<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>',i.renderer=l.A4.install({url:"https://cdn.jwplayer.com/libraries/l5MchIxB.js"}),i.renderer.setRender((function(e,t){const r=(0,c.p)(e.adUnitCode).divId??e.adUnitCode,o=t.createElement("div");o.id=`${r}-video-player`,t.getElementById(r).appendChild(o);const n=window.jwplayer(o.id).setup({debug:!0,width:i.width,height:i.height,advertising:{client:"vast",outstream:!0,endstate:"close"}});n.on("ready",(async function(){e.vastUrl?n.loadAdTag(e.vastUrl):n.loadAdXml(e.vastXml)}))})))},[d.s6]:(e,i)=>{i.hasOwnProperty("native")||(i.native={ortb:{link:{url:"https://www.link.example",clicktrackers:["https://impression.example"]},assets:e.nativeOrtbRequest.assets.map(h)}})}};function h(e){switch(g.find((i=>e.hasOwnProperty(i)))){case"img":return{...e,img:{type:3,w:600,h:500,url:"https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png"}};case"video":return{...e,video:{vasttag:'<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>'}};case"data":return{...e,data:{value:"5 stars"}};case"title":return{...e,title:{text:"Prebid Native Example"}}}}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};({setTimeout:this.setTimeout=window.setTimeout.bind(window)}=e),this.logger=e.logger,this.rules=[]}Object.assign(p.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig(e){return e.filter(((e,i)=>{const t=!(0,s.kL)(e);return t||(0,a.A)(e,"options.suppressWarnings")||this.logger.logWarn(`Bid interceptor rule definition #${i+1} contains non-serializable properties and will be lost after a refresh. Rule definition: `,e),t}))},updateConfig(e){this.rules=(e.intercept||[]).map(((e,i)=>this.rule(e,i+1)))},rule(e,i){return{no:i,match:this.matcher(e.when,i),replace:this.replacer(e.then,i),options:Object.assign({},this.DEFAULT_RULE_OPTIONS,e.options),paapi:this.paapiReplacer(e.paapi||[],i)}},matcher(e,i){if("function"==typeof e)return e;if("object"!=typeof e)return this.logger.logError(`Invalid 'when' definition for debug bid interceptor (in rule #${i})`),()=>!1;function t(i,r){let{ref:o=e,args:n=[]}=r;return Object.entries(o).map((e=>{let[r,o]=e;const s=i[r];return o instanceof RegExp?null!=o.exec(s):"function"==typeof o?!!o(s,...n):"object"==typeof o?t(s,{ref:o,args:n}):s===o})).every((e=>e))}return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t(e,{args:r})}},replacer(e,i){var t=this;if(null===e)return()=>null;let r;return"function"==typeof(e=e||{})?r=i=>{let{args:t}=i;return e(...t)}:"object"!=typeof e?(this.logger.logError(`Invalid 'then' definition for debug bid interceptor (in rule #${i})`),r=()=>({})):r=i=>{let{args:t,ref:o=e}=i;const n=Array.isArray(o)?[]:{};return Object.entries(o).forEach((e=>{let[i,o]=e;n[i]="function"==typeof o?o(...t):null!=o&&"object"==typeof o?r({args:t,ref:o}):o})),n},function(e){const i=t.responseDefaults(e);for(var o=arguments.length,n=new Array(o>1?o-1:0),d=1;d<o;d++)n[d-1]=arguments[d];(0,s.D9)(i,r({args:[e,...n]}));const a=u[i.mediaType];return a&&a(e,i),i.isDebug=!0,i}},paapiReplacer(e,i){function t(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>Object.keys(e).some((e=>!["config","igb"].includes(e)))?{config:e}:e))}return Array.isArray(e)?()=>t(e):"function"==typeof e?function(){return t(e(...arguments))}:void this.logger.logError(`Invalid 'paapi' definition for debug bid interceptor (in rule #${i})`)},responseDefaults(e){const i={requestId:e.bidId,cpm:3.5764,currency:"EUR",ttl:360,creativeId:"mock-creative-id",netRevenue:!1,meta:{}};let t;return e.mediaType||(i.mediaType=Object.keys(e.mediaTypes??{})[0]??d.D4),i.mediaType===d.D4?t=e.mediaTypes?.banner?.sizes?.[0]??[300,250]:i.mediaType===d.G_&&(t=e.mediaTypes?.video?.playerSize?.[0]??[600,500]),Array.isArray(t)&&([i.width,i.height]=t),i},match(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),r=1;r<i;r++)t[r-1]=arguments[r];return this.rules.find((i=>i.match(e,...t)))},matchAll(e,i){const[t,r]=[[],[]];return e.forEach((e=>{const o=this.match(e,i);null!=o?t.push({rule:o,bid:e}):r.push(e)})),[t,r]},intercept(e){let{bids:i,bidRequest:t,addBid:r,addPaapiConfig:o,done:n}=e;null==i&&(i=t.bids);const[d,a]=this.matchAll(i,t);if(d.length>0){const e=(0,s.U6)(n,d.length);d.forEach((i=>{const n=i.rule.replace(i.bid,t),s=i.rule.paapi(i.bid,t),d=i.rule.options.delay;this.logger.logMessage(`Intercepted bid request (matching rule #${i.rule.no}), mocking response in ${d}ms. Request, response, PAAPI configs:`,i.bid,n,s),this.setTimeout((()=>{n&&r(n,i.bid),s.forEach((e=>o(e,i.bid,t))),e()}),d)})),t=(0,s.Go)(t),i=t.bids=a}else this.setTimeout(n,0);return{bids:i,bidRequest:t}}});var f=t(8969);let b,m;function v(e,i){let{hook:t,logger:r}=i;b=k.bind({overrides:e,logger:r}),t.get("addBidResponse").before(b,5),m=E.bind({overrides:e,logger:r}),t.get("addBidderRequests").before(m,5)}function y(e){let{hook:i}=e;i.get("addBidResponse").getHooks({hook:b}).remove(),i.get("addBidderRequests").getHooks({hook:m}).remove()}function A(e,i,t){return!(!e.bidder||e.bidder===i)||!(!e.adUnitCode||e.adUnitCode===t)}function C(e,i){return Array.isArray(e)&&-1===e.indexOf(i)}function w(e,i,t,r){return Object.keys(e).filter((e=>-1===["adUnitCode","bidder"].indexOf(e))).reduce((function(i,o){return r.logMessage(`bidder overrides changed '${i.adUnitCode}/${i.bidderCode}' ${t}.${o} from '${i[o]}.js' to '${e[o]}'`),i[o]=e[o],i.isDebug=!0,i}),i)}function k(e,i,t,r){const{overrides:o,logger:n}=this;C(o.bidders,t.bidderCode)?n.logWarn(`bidder '${t.bidderCode}' excluded from auction by bidder overrides`):(Array.isArray(o.bids)&&o.bids.forEach((function(e){A(e,t.bidderCode,i)||w(e,t,"bidder",n)})),e(i,t,r))}function E(e,i){const{overrides:t,logger:r}=this,o=i.filter((function(e){return!C(t.bidders,e.bidderCode)||(r.logWarn(`bidRequest '${e.bidderCode}' excluded from auction by bidder overrides`),!1)}));Array.isArray(t.bidRequests)&&o.forEach((function(e){t.bidRequests.forEach((function(i){e.bids.forEach((function(t){A(i,e.bidderCode,t.adUnitCode)||w(i,t,"bidRequest",r)}))}))})),e(o)}const D=[];let T,U=!1;function R(e,i){let{fromSession:t=!1,config:r,hook:o,logger:n}=i;r.setConfig({debug:!0}),T.updateConfig(e),O(!0),y({hook:o}),v(e,{hook:o,logger:n}),U||(U=!0,n.logMessage("Debug overrides enabled"+(t?" from session":"")))}function B(e){let i,{getStorage:t=(()=>window.sessionStorage),DEBUG_KEY:r,config:o,hook:n,logger:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){try{i=t()}catch(e){d.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=i&&function(e){let{sessionStorage:i=window.sessionStorage,DEBUG_KEY:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.enabled){e.intercept&&((e=(0,s.Go)(e)).intercept=T.serializeConfig(e.intercept));try{i.setItem(t,JSON.stringify(e))}catch(e){}}else try{i.removeItem(t)}catch(e){}}(e,{sessionStorage:i,DEBUG_KEY:r}),e.enabled?R(e,{config:o,hook:n,logger:d}):function(e){let{hook:i,logger:t}=e;T.updateConfig({}),O(!1),y({hook:i}),U&&(U=!1,t.logMessage("Debug overrides disabled"))}({hook:n,logger:d})}}function O(e){D.forEach((e=>{let[i,t]=e;i().getHooks({hook:t}).remove()})),e&&D.forEach((e=>{let[i,t]=e;i().before(t)}))}function I(e,i){const t=function(){return T.intercept(...arguments)};D.push([e,function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];i(e,t,...o)}])}function S(e,i,t,r,o,n,d,a){const l=(0,s.U6)(a.onCompletion,2);({bids:r,bidRequest:o}=i({bids:r,bidRequest:o,addBid:d(a.onBid),addPaapiConfig:d(((e,i)=>a.onPaapi({bidId:i.bidId,...e}))),done:l})),0===r.length?(a.onResponse?.({}),l()):e(t,r,o,n,d,{...a,onCompletion:l})}var P=t(3597);!function(e){let{DEBUG_KEY:i,config:t,hook:r,createBid:o,logger:n}=e;T=new p({logger:n});const d=function(e){let{createBid:i}=e;return function(e,t,r,o,n,d){let a,{onResponse:l,onError:c,onBid:g,onFledge:u}=d;const h=(0,s.U6)((()=>l(...a)),o.length+1);function p(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];a=i,h()}function b(e,t){g({adUnit:t.adUnitCode,bid:Object.assign(i(f.XQ.GOOD,t),{requestBidder:t.bidder},e)})}if(o=o.map((e=>t({bidRequest:e,addBid:b,addPaapiConfig(e,i,t){u({adUnitCode:i.adUnitCode,ortb2:t.ortb2,ortb2Imp:i.ortb2Imp,...e})},done:h}).bidRequest)).filter((e=>e.bids.length>0)),o.length>0){const i=new Set;o.forEach((e=>e.bids.forEach((e=>i.add(e.bidId))))),(r=(0,s.Go)(r)).ad_units.forEach((e=>{e.bids=e.bids.filter((e=>i.has(e.bid_id)))})),r.ad_units=r.ad_units.filter((e=>e.bids.length>0)),e(r,o,n,{onResponse:p,onError:c,onBid:g})}else p(!0,[])}}({createBid:o});I((()=>r.get("processBidderRequests")),S),I((()=>r.get("processPBSRequest")),d),function(e){let i,{DEBUG_KEY:t,storage:r,config:o,hook:n,logger:s}=e;try{r=r||window.sessionStorage,i=JSON.parse(r.getItem(t))}catch(e){}i&&R(i,{fromSession:!0,config:o,hook:n,logger:s})}({DEBUG_KEY:i,config:t,hook:r,logger:n}),t.getConfig("debugging",(e=>{let{debugging:o}=e;return B(o,{DEBUG_KEY:i,config:t,hook:r,logger:n})}),{init:!0})}({DEBUG_KEY:t(9164).ey,config:o.$W,hook:n.A_,createBid:P.O,logger:(0,s.h0)("DEBUG:")}),(0,r.E)("debugging")}},e=>{e.O(0,[5,802,769,139,85],(()=>{return i=7620,e(e.s=i);var i}));e.O()}]);